#  IPC接入新SOC标准作业流程



[TOC]



## 一．Uboot标准

1.大小要求：192K以内
2.ubootenv独立分区进行配置，可以升级以适应内存调整
3.支持现在的flash 驱动（如XMC、KH、MX)
4.支持TFTP
5.支持help.rom救机恢复（TFTP或TF卡，根据ENV的分区配置，进行升级）

## 二．Kernel标准

1.大小要求：1.5M以内
2.支持现在的flash 驱动（如XMC、KH、MX)
3.支持NFS挂载调试
4.wifi 机型，要开启相应的模块

## 三．Rootfs标准

1.大小要求：1M以内
2.使用uclibc
3.裁剪busybox
	500K左右
	调整blkid工具，不读flash
	屏蔽single模式
4.特殊目录、文件
/etc/jffs2空目录	用于挂载存放配置文件
/etc/hosts软连接到/tmp/hosts
/etc/resolv.conf软连接到/tmp/resolv.conf

## 四．分区配置标准

1.Uboot：192K
2.Uboot env：64K
3.Kernel：1536K
4.Rootfs：768K
5.User：5112K
6.Config：448K
7.factory：64K



## 五．SDK对接

### 1.视频接口

**回调接口总览**

typedef struct _tagVIDEOCALLBACK_

{

  ////////////视频,ISP 初始化

  NK_Int    (*[SDK_Init](#SDK_Init))       (NK_PVoid lParam);

  NK_Int    (*[SDK_Exit](#SDK_Exit))       ();

  NK_Int    (*[VIDEO_Init](#VIDEO_Init))      (NK_PVoid lParam);

  NK_Int    (*[VIDEO_Exit](#VIDEO_Exit))      ();

  /////////////开启编码服务, 抓图

  NK_Int    (*[VENC_Start](#VENC_Start))    (pstVIDEOCHN pVChn,pstVIDEOENCODE pstVEnc);

  NK_Int    (*[VENC_Stop](#VENC_Stop))    (pstVIDEOCHN pVChn);

  NK_Int    (*[VENC_GetYuv](#VENC_GetYuv))   (NK_Int enMode, pstVIDEO_YUV pYuv);

  NK_Int    (*[VENC_RelYuv](#VENC_RelYuv))   (NK_Int enMode);

  NK_Int    (* [VENC_GetStream](#VENC_GetStream))  (NK_Int *pVencChn,NK_Int enMode,pstENCBUFATTR pEncAttr,NK_STREAM_BUF_S *pStreamBuf,  NK_Int * pDataLen);

  NK_Int    (*[VENC_RelStream](#VENC_RelStream))  (NK_Int nVencChn,NK_Int enStreamMode);

  NK_Int    (*[VENC_GetYuvEx](#VENC_GetYuvEx))  (pstVIDEO_YUV pYuv);

  NK_Int    (*[VENC_RelYuvEx](#VENC_RelYuvEx))  (pstVIDEO_YUV pYuv);



  NK_Int    (*[VENC_Snapshot_Init](#VENC_Snapshot_Init)) (NK_Int nVChn);  

  NK_Int    (*[VENC_Snapshot_Eixt](#VENC_Snapshot_Eixt)) (NK_Int nVChn);

  NK_Int    (* [VENC_GetSnapshot](#VENC_GetSnapshot)) (pstVIDEOCHN pVChn,NK_PVoid lpBuffer, NK_Int*  nLen);



  NK_Int    (*[VENC_GetSensorResolution](#VENC_GetSensorResolution)) (NK_Int *nWidth,NK_Int *nHeight,enRESTYPE *nRes);

  NK_Int    (*[VENC_GetEncMaxResolution](#VENC_GetEncMaxResolution)) (NK_Int *nWidth,NK_Int *nHeight,enRESTYPE *nRes);

  NK_Int    (*[VENC_GetMem](#VENC_GetMem))    ();

  NK_UInt64  (*[VENC_GetTs](#VENC_GetTs))    (pstVIDEOCHN pVChn);

  /////////////基本编码设置,视频遮挡,视频遮挡(通过枚举方式 决定功能与结构体)

  NK_Int    (*[VENC_SetParam](#VENC_SetParam))  (pstVIDEOCHN pVChn,enAPISVIDEOTYPE emType, NK_PVoid lParam , NK_Int  nSize);

  NK_Int    (* [VENC_GetParam](#VENC_GetParam))  (pstVIDEOCHN pVChn,enAPISVIDEOTYPE emType, NK_PVoid lParam , NK_Int* pSize);

  /////////////OSD 基本操作与设置



  NK_Int    (*[VOSD_Init](#VOSD_Init))    (NK_PVoid lParam); ////初始化VOSD

  NK_Int    (*[VOSD_Exit](#VOSD_Exit))    ();

  NK_PVoid   (*[VOSD_Create](#VOSD_Create))   (pstVIDEOCHN pVChn,NK_Int nOsdChn, NK_PChar pName); //////CANVAS 画布显示OSD操作。

  NK_Int    (*[VOSD_Destroy](#VOSD_Destroy))   (NK_PVoid hOSD);

  NK_Int    (*[VOSD_SetParam](#VOSD_SetParam))  (NK_PVoid hOSD, enAPISVOSDTYPE emType, NK_PVoid lParam);

  NK_Int    (*[VOSD_GetParam](#VOSD_GetParam))  (NK_PVoid hOSD, enAPISVOSDTYPE emType, NK_PVoid lParam, NK_Int* pSize);

  /////////////VISP 基本操作与 高级功能操作

  NK_Int    (*[VISP_Init](#VISP_Init))    ();

  NK_Int    (*[VISP_Exit](#VISP_Exit))    ();

  NK_Int    (*[VISP_SetParam](#VISP_SetParam))  (pstVIDEOCHN pVChn,NK_Int emType,NK_PVoid lParam,NK_Int  nSize);

  NK_Int    (* [VISP_GetParam](#VISP_GetParam))  (pstVIDEOCHN pVChn,NK_Int emType,NK_PVoid lParam,NK_Int* pSize);

  NK_Int    (*[VISP_QRActive](#VISP_QRActive))  (NK_Int nChn, NK_Boolean enAble);

  NK_Int    (*[VISP_SwitchLens](#VISP_SwitchLens)) (NK_Int nLens);

  ////////////// 移动跟踪

  NK_Int    (*[VMT_Init](#VMT_Init))(NK_Int nMTAnglePx,NK_Int nMTAnglePy,NK_Int nMTVerticalAngleMax,NK_Int nMTHorizontalAngleMax);

  NK_Int    (*[VMT_Exit](#VMT_Exit))();

  NK_Int    (*[VMT_SetParam](#VMT_SetParam))   (pstVIDEOCHN pVChn,enAPISMTTYPE emType, NK_PVoid lParam , NK_Int  nSize);

  NK_Int    (*[VMT_GetParam](#VMT_GetParam))   (pstVIDEOCHN pVChn,enAPISMTTYPE emType, NK_PVoid lParam , NK_Int* pSize);

  NK_Int (*[VMT_GetTracking](#VMT_GetTracking))(NK_Int *pAngleX, NK_Int *pAngleY);

  NK_Int (*[VMT_WaitRotating](#VMT_WaitRotating))();

  NK_Int (*[VMT_UpdateAngle](#VMT_UpdateAngle))(NK_Int angleX, NK_Int angleY);

  NK_Int (*[VMT_SyncRotationFrames](#VMT_SyncRotationFrames))();

  NK_Int (*[VMT_BoxRectEnable](#VMT_BoxRectEnable))(NK_Int bEnable);

  NK_Int (*[VMT_ReverseDirection](#VMT_ReverseDirection))(NK_Int nHorizontal,NK_Int nVertical);



  NK_Int (*[VHD_Init](#VHD_Init))();

  NK_Int (*[VHD_Exit](#VHD_Exit))();

  NK_Int (*[VHD_Det](#VHD_Det))(NK_Int bDrwBox);

  NK_Int (*[VHD_DrawYuv](#VHD_DrawYuv))(NK_Void *pYuv);

  NK_Int (*[VHD_Threshold](#VHD_Threshold))(NK_Int nThreshold);

  NK_Int (*[VHD_SetArea](#VHD_SetArea))(pstMOTDETALARM pstMotdet);

  NK_Int (*[VHD_SetDayNight](#VHD_SetDayNight))(int is_night);



  NK_Int (*[VISP_GetAf](#VISP_GetAf))(NK_UInt32 *fv1,NK_UInt32 *fv2,NK_UInt32 *fvsum);

  NK_Int (*[VISP_GetSensorFrame](#VISP_GetSensorFrame))(NK_Int *fps);

  NK_Int (*[SYSTEM_Get](#SYSTEM_Get))(NK_Int enmuType, NK_PVoid lParam);

  NK_Int (*[EVENT_SetHdCallBack](#EVENT_SetHdCallBack))(NK_Int vin, fSDK_EVENT_DO_TRAP do_trap);

  NK_Int (*[EVENT_SetMdCallBack](#EVENT_SetMdCallBack))(NK_Int vin, fSDK_EVENT_DO_TRAP do_trap);

  NK_Int (*[VIDEO_CALLBACK](#VIDEO_CALLBACK))    (NK_PVoid lParam);

}VIDEOCALLBACK;



typedef struct _tagVIDEOTOCALLBACK_

{

  NK_Int (*[SensorLensSwitch](#SensorLensSwitch))(NK_Int nLens);

} stVIDEO_TO_CALLBACK,*pstVIDEO_TO_CALLBACK;



**[NK_Int](#基础数据类型定义) (*<span id="SDK_Init">SDK_Init</span>)([NK_PVoid](#基础数据类型定义) lParam)** 

【描述】
SDK初始化接口

【参数】

| 参数名称 | 描述                                              | 输入/输出 |
| -------- | ------------------------------------------------- | --------- |
| lParam   | 视频模块的参数，详见[NK_PVoid](#基础数据类型定义) | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="SDK_Exit"> SDK_Exit</span>) ();**

【描述】
反SDK初始化接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VIDEO_Init">VIDEO_Init </span>)([NK_PVoid](#基础数据类型定义) lParam)** 

【描述】
视频模块初始化接口

【参数】
|参数名称|描述|输入/输出|
| ------- | -------- |-------- |
|lParam|视频模块的参数，详见[NK_PVoid](#基础数据类型定义)|输入|

【返回值】
|返回值|描述|
| ------- | --------- |
|NK_FALSE|失败|
|NK_TRUE|成功|



**[NK_Int](#基础数据类型定义) (*<span id="VIDEO_Exit">VIDEO_Exit </span>) ()**

【描述】
视频模块销毁接口

【参数】
|参数名称|描述|输入/输出|
| ------- | -------- |-------- |
|无|||

【返回值】
| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_Start">VENC_Start </span>) ([pstVIDEOCHN](#stVIDEOCHN) pVChn,[pstVIDEOENCODE](#stVIDEOENCODE) pstVEnc)**

【描述】

启动编码接口

【参数】

| 参数名称 | 描述           | 输入/输出 |
| -------- | -------------- | --------- |
| pVChn    | 通道号         | 输入      |
| pstVEnc  | 编码结构体指针 | 输出      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_Stop">VENC_Stop </span>) ([pstVIDEOCHN](#stVIDEOCHN) pVChn)**

【描述】

停止编码接口

【参数】

| 参数名称 | 描述   | 输入/输出 |
| -------- | ------ | --------- |
| nChn     | 通道号 | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_GetYuv">VENC_GetYuv </span>) ([NK_Int](#基础数据类型定义) enMode, [pstVIDEO_YUV](#stVIDEO_YUV) pYuv)**

【描述】

获取YUV数据接口，用于编码

【参数】

| 参数名称 | 描述                    | 输入/输出 |
| -------- | ----------------------- | --------- |
| enMode   | 编码模式(推模式/拉模式) | 输入      |
| pYuv     | YUV数据                 | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_RelYuv">VENC_RelYuv </span>) ([NK_Int](#基础数据类型定义) enMode)**

【描述】

释放YUV数据接口，用于编码

【参数】

| 参数名称 | 描述                    | 输入/输出 |
| -------- | ----------------------- | --------- |
| enMode   | 编码模式(推模式/拉模式) | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_GetStream">VENC_GetStream </span>)([NK_Int](#基础数据类型定义) *pVencChn,[NK_Int](#基础数据类型定义) enMode,[pstENCBUFATTR](#stENCBUFATTR) pEncAttr, ** **[NK_STREAM_BUF_S](#NK_STREAM_BUF_S)   *pStreamBuf, [NK_Int](#基础数据类型定义) * pDataLen)**

【描述】

获取编码流接口

【参数】

| 参数名称   | 描述               | 输入/输出 |
| ---------- | ------------------ | --------- |
| pnVencChn  | 通道号             | 输入      |
| enMode     | 编码模式--暂不使用 | 输入      |
| pEncAttr   | 编码参数           | 输出      |
| pStreamBuf | 数据流的大小       | 输出      |
| pDataLen   | 编码数据长度       | 输出      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_RelStream">VENC_RelStream </span>)([NK_Int](#基础数据类型定义) nVencChn,[NK_Int](#基础数据类型定义) enStreamMode)**

【描述】

释放编码流接口

【参数】

| 参数名称     | 描述               | 输入/输出 |
| ------------ | ------------------ | --------- |
| nVencChn     | 通道号             | 输入      |
| enStreamMode | 编码模式--暂不使用 | 输出      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_GetYuvEx">VENC_GetYuvEx </span>)([pstVIDEO_YUV](#pstVIDEO_YUV) pYuv)**

【描述】

获取YUV数据，用于二维码扫码

【参数】

| 参数名称 | 描述    | 输入/输出 |
| -------- | ------- | --------- |
| pYuv     | YUV数据 | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_RelYuvEx">VENC_RelYuvEx </span>)([pstVIDEO_YUV](#pstVIDEO_YUV) pYuv)**

【描述】

释放YUV数据，用于二维码扫码

【参数】

| 参数名称 | 描述    | 输入/输出 |
| -------- | ------- | --------- |
| pYuv     | YUV数据 | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_Snapshot_Init"> VENC_Snapshot_Init</span>) ([NK_Int](#基础数据类型定义) nVChn)**

【描述】

抓图初始化接口

【参数】

| 参数名称 | 描述                             | 输入/输出 |
| -------- | -------------------------------- | --------- |
| pVChn    | 通道号, 取值0为主码流，1为子码流 | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_Snapshot_Eixt">VENC_Snapshot_Eixt </span>) ([NK_Int](#基础数据类型定义) nVChn)**

【描述】

反初始化接口

【参数】

| 参数名称 | 描述                             | 输入/输出 |
| -------- | -------------------------------- | --------- |
| pVChn    | 通道号, 取值0为主码流，1为子码流 | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_GetSnapshot">VENC_GetSnapshot </span>) ([pstVIDEOCHN](#stVIDEOCHN) pVChn,[NK_PVoid](#基础数据类型定义) *lpBuffer, [NK_Int](#基础数据类型定义) *nLen)**

【描述】

启动抓图接口

【参数】

| 参数名称 | 描述       | 输入/输出 |
| -------- | ---------- | --------- |
| pVChn    | 通道号     | 输入      |
| lpBuffer | 数据地址位 | 输出      |
| nLen     | 数据长度   | 输出      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_GetSensorResolution"> VENC_GetSensorResolution</span>) ([NK_Int](#基础数据类型定义) *nWidth,[NK_Int](#基础数据类型定义) *nHeight,[enRESTYPE](#enRESTYPE) *nRes)**

【描述】

获取主码流分辨率

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| nWidth   | 宽    | 输出      |
| nHeight  | 高    | 输出      |
| nRes     | FIXME | 输出      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_GetEncMaxResolution">VENC_GetEncMaxResolution </span>) ([NK_Int](#基础数据类型定义) *nWidth,[NK_Int](#基础数据类型定义) *nHeight,[enRESTYPE](#enRESTYPE) *nRes)**

【描述】

获取最大分辨率

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| nWidth   | 宽    | 输出      |
| nHeight  | 高    | 输出      |
| nRes     | FIXME | 输出      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_GetMem">VENC_GetMem </span>)（）**

【描述】

获取编码内存接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无   |  |  |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_UInt64](#基础数据类型定义) (*<span id="VENC_GetTs">VENC_GetTs </span>) ([pstVIDEOCHN](#pstVIDEOCHN) *pVChn)**

【描述】

获取pVChn->nChnVenc的编码通道，当前的编码时间戳

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| pVChn   | 通道号  |   输入    |


【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_SetParam">VENC_SetParam </span>) ([pstVIDEOCHN](#stVIDEOCHN) pVChn,[enAPISVIDEOTYPE](#enAPISVIDEOTYPE) emType, [NK_PVoid](#基础数据类型定义) lParam , [NK_Int](#基础数据类型定义) nSize)**

【描述】

设置编码参数接口

【参数】

| 参数名称 | 描述                                                      | 输入/输出 |
| -------- | --------------------------------------------------------- | --------- |
| pVChn    | 通道号                                                    | 输入      |
| emType   | 编码功能属性枚举 详见 [enAPISVIDEOTYPE](#enAPISVIDEOTYPE) | 输入      |
| lParam   | 设置值,取值为emType枚举对应的结构体或类型                 | 输入      |
| nSize    | 设置值的大小                                              | 输出      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VENC_GetParam">VENC_GetParam</span>)([pstVIDEOCHN](#stVIDEOCHN) pVChn,[enAPISVIDEOTYPE](#enAPISVIDEOTYPE) emType, [NK_PVoid](#基础数据类型定义) lParam , [NK_Int](#基础数据类型定义) *pSize)**

【描述】

获取编码参数接口

【参数】

| 参数名称 | 描述                                                      | 输入/输出 |
| -------- | --------------------------------------------------------- | --------- |
| pVChn    | 通道号                                                    | 输入      |
| emType   | 编码功能属性枚举  详见[enAPISVIDEOTYPE](#enAPISVIDEOTYPE) | 输入      |
| lParam   | 设置值,取值为emType枚举对应的结构体或类型                 | 输出      |
| nSize    | 设置值的大小                                              | 输出      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VOSD_Init">VOSD_Init </span>) ([NK_PVoid](#基础数据类型定义) lParam)**

【描述】

OSD初始化接口

【参数】

| 参数名称 | 描述                                           | 输入/输出 |
| -------- | ---------------------------------------------- | --------- |
| lParam   | 指向视频结构体  详见 [stOSDPARAM](#stOSDPARAM) | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VOSD_Exit">VOSD_Exit </span>) ()**

【描述】

OSD退出接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_PVoid](#基础数据类型定义) (*<span id="VOSD_Create">VOSD_Create </span>)([pstVIDEOCHN](#stVIDEOCHN) pVChn,[NK_Int](#基础数据类型定义) nOsdChn, [NK_PChar](#基础数据类型定义) pName)**

【描述】

OSD创建接口

【参数】

| 参数名称 | 描述            | 输入/输出 |
| -------- | --------------- | --------- |
| pVChn    | 视频通道号      | 输入      |
| nOsdChn  | OSD对应的通道号 | 输入      |
| pName    | FIXME           | FIXME     |

【返回值】

| 返回值    | 描述 |
| --------- | ---- |
| FIXME     | 失败 |
| osdHandle | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VOSD_Destroy">VOSD_Destroy </span>) ([NK_PVoid](#基础数据类型定义) hOSD)**

【描述】

OSD销毁接口

【参数】

| 参数名称 | 描述   | 输入/输出 |
| -------- | ------ | --------- |
| hOSD     | 通道号 | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VOSD_SetParam">VOSD_SetParam </span>)([NK_PVoid](#基础数据类型定义) hOSD, [enAPISVOSDTYPE](#enAPISVOSDTYPE) emType, [NK_PVoid](#基础数据类型定义) lParam)**

【描述】

OSD参数设置接口

【参数】

| 参数名称 | 描述                                                   | 输入/输出 |
| -------- | ------------------------------------------------------ | --------- |
| hVOSD    | 通道号                                                 | 输入      |
| emType   | OSD功能属性枚举 详见 [enAPISVOSDTYPE](#enAPISVOSDTYPE) | 输入      |
| lParam   | 设置值,取值为emType枚举对应的结构体或类型              | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VOSD_GetParam">VOSD_GetParam</span>)([NK_PVoid](#基础数据类型定义) hOSD, [enAPISVOSDTYPE](#enAPISVOSDTYPE) emType, [NK_PVoid](#基础数据类型定义) lParam, [NK_Int](#基础数据类型定义) *pSize)**

【描述】

OSD参数获取接口

【参数】

| 参数名称 | 描述                                                    | 输入/输出 |
| -------- | ------------------------------------------------------- | --------- |
| hVOSD    | 通道号                                                  | 输入      |
| emType   | OSD功能属性枚举  详见 [enAPISVOSDTYPE](#enAPISVOSDTYPE) | 输入      |
| lParam   | 取值为emType枚举对应的结构体或类型                      | 输出      |
| pSize    | 值的大小                                                | 输出      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VISP_Init">VISP_Init </span>)()**

【描述】

ISP初始化接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VISP_Exit">VISP_Exit </span>)()**

【描述】

ISP退出接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VISP_SetParam">VISP_SetParam</span>)([pstVIDEOCHN](#stVIDEOCHN) pVChn,[NK_Int](#基础数据类型定义) emType,[NK_PVoid](#基础数据类型定义) lParam,[NK_Int](#基础数据类型定义) nSize)**

【描述】

ISP参数设置接口

【参数】

| 参数名称 | 描述                                                   | 输入/输出 |
| -------- | ------------------------------------------------------ | --------- |
| pVChn    | 通道号                                                 | 输入      |
| emType   | ISP功能属性枚举  详见[enAPISVISPTYPE](#enAPISVISPTYPE) | 输入      |
| lParam   | 设置值,取值为emType枚举对应的结构体或类型              | 输入      |
| pSize    | 值的大小                                               | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VISP_GetParam">VISP_GetParam</span>)([pstVIDEOCHN](#stVIDEOCHN) pVChn,[NK_Int](#基础数据类型定义) emType,[NK_PVoid](#基础数据类型定义) lParam,[NK_Int](#基础数据类型定义) *pSize)**

【描述】

ISP参数获取接口

【参数】

| 参数名称 | 描述                                                   | 输入/输出 |
| -------- | ------------------------------------------------------ | --------- |
| pVChn    | 通道号                                                 | 输入      |
| emType   | ISP功能属性枚举  详见[enAPISVISPTYPE](#enAPISVISPTYPE) | 输入      |
| lParam   | 设置值,取值为emType枚举对应的结构体或类型              | 输入      |
| pSize    | 值的大小                                               | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VISP_QRActive">VISP_QRActive</span>)([NK_Int](#基础数据类型定义) nChn,[NK_Boolean](#基础数据类型定义) enAble)**

【描述】

FIXME

【参数】

| 参数名称 | 描述   | 输入/输出 |
| -------- | ------ | --------- |
| nChn     | 通道号 | 输入      |
| enAble   | FIXME  | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VISP_SwitchLens">VISP_SwitchLens</span>)([NK_Int](#基础数据类型定义) nLens)**

【描述】

FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| nLens    | FIXME | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VMT_Init">VMT_Init </span>)([NK_Int](#基础数据类型定义) nMTAnglePx,[NK_Int](#基础数据类型定义) nMTAnglePy,[NK_Int](#基础数据类型定义) nMTVerticalAngleMax,[NK_Int](#基础数据类型定义) nMTHorizontalAngleMax)**

【描述】

移动跟踪初始化接口

【参数】

| 参数名称              | 描述                       | 输入/输出 |
| --------------------- | -------------------------- | --------- |
| nMTAnglePx            | 获取移动区域的x轴角度      | 输入      |
| nMTAnglePy            | 获取移动区域的y轴角度      | 输入      |
| nMTVerticalAngleMax   | 获取移动区域的垂直最大角度 | 输入      |
| nMTHorizontalAngleMax | 获取移动区域的水平最大角度 | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VMT_Exit">VMT_Exit </span>)()**

【描述】

移动跟踪退出接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VMT_SetParam">VMT_SetParam </span>)([pstVIDEOCHN](#stVIDEOCHN) pVChn,[enAPISMTTYPE](#enAPISMTTYPE) emType,[NK_PVoid](#基础数据类型定义) lParam,[NK_Int](#基础数据类型定义) nSize)**

【描述】

MT参数设置接口 --暂未使用

【参数】

| 参数名称 | 描述         | 输入/输出 |
| -------- | ------------ | --------- |
| pVChn    | 通道号       | 输入      |
| emType   | FIXME        | 输入      |
| lParam   | FIXME        | 输入      |
| pSize    | 设置值的大小 | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VMT_GetParam">VMT_GetParam </span>)([pstVIDEOCHN](#stVIDEOCHN) pVChn,[enAPISMTTYPE](#enAPISMTTYPE) emType,[NK_PVoid](#基础数据类型定义) lParam,[NK_Int](#基础数据类型定义) *pSize)**

【描述】

MT参数获取接口--暂未使用

【参数】

| 参数名称 | 描述         | 输入/输出 |
| -------- | ------------ | --------- |
| pVChn    | 通道号       | 输入      |
| emType   | FIXME        | 输入      |
| lParam   | FIXME        | 输入      |
| pSize    | 设置值的大小 | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VMT_GetTracking">VMT_GetTracking </span>)([NK_Int](#基础数据类型定义) *pAngleX,[NK_Int](#基础数据类型定义) *pAngleY)**

【描述】

获取移动区域接口

【参数】

| 参数名称 | 描述                  | 输入/输出 |
| -------- | --------------------- | --------- |
| pAngleX  | 获取移动区域的x轴角度 | 输出      |
| pAngleY  | 获取移动区域的y轴角度 | 输出      |

【返回值】

| 返回值 | 描述                     |
| ------ | ------------------------ |
| 0      | 不需要旋转               |
| 1      | 需要旋转                 |
| 2      | 需要旋转和复位到初始位置 |
| -1     | 失败                     |



**[NK_Int](#基础数据类型定义) (*<span id="VMT_WaitRotatin">VMT_WaitRotatin </span>)()**

【描述】

等待旋转就绪接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VMT_UpdateAngle">VMT_UpdateAngle </span>)([NK_Int](#基础数据类型定义) angleX,[NK_Int](#基础数据类型定义) angleY)**

【描述】

检测到移动跟踪并移动后，更新记录当前的角度位置

【参数】

| 参数名称 | 描述        | 输入/输出 |
| -------- | ----------- | --------- |
| angleX   | 设置x轴角度 | 输入      |
| angleY   | 设置y轴角度 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VMT_SyncRotationFrames"> VMT_SyncRotationFrames</span>)()**

【描述】

通过获取当前帧率自行同步设置旋转帧率

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VMT_BoxRectEnable">VMT_BoxRectEnable </span>)([NK_Int](#基础数据类型定义) bEnable)**

【描述】

打开/关闭移动跟踪画框

【参数】

| 参数名称 | 描述         | 输入/输出 |
| -------- | ------------ | --------- |
| bEnable  | 0关闭，1打开 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VMT_ReverseDirection">VMT_ReverseDirection </span>)([NK_Int](#基础数据类型定义) nHorizontal,[NK_Int](#基础数据类型定义) nVertical)**

【描述】

翻转跟踪方向

【参数】

| 参数名称    | 描述     | 输入/输出 |
| ----------- | -------- | --------- |
| nHorizontal | 水平方向 | 输入      |
| nVertical   | 垂直方向 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="VHD_Init">VHD_Init </span>)()**

【描述】

初始人形侦测接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="VHD_Exit">VHD_Exit </span>)()**

【描述】

反初始人形侦测接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="VHD_Det">VHD_Det </span>)([NK_Int](#基础数据类型定义) bDrwBox)**

【描述】

人形侦测线程独立触发接口

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| bDrwBox  | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="VHD_DrawYuv">VHD_DrawYuv </span>)([NK_Void](#基础数据类型定义) *pYuv)**

【描述】

将人形侦测的结果画框到主子码流，目前是编码线程驱动，将方框画到主子码流

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| pYuv     | YUV  | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="VHD_Threshold">VHD_Threshold </span>)([NK_Int](#基础数据类型定义) nThreshold)**

【描述】

设置灵敏度

【参数】

| 参数名称   | 描述  | 输入/输出 |
| ---------- | ----- | --------- |
| nThreshold | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="VHD_SetArea">VHD_SetArea </span>)([pstMOTDETALARM](#stMOTDETALARM) pstMotdet)**

【描述】

设置人形侦测区域

【参数】

| 参数名称  | 描述                      | 输入/输出 |
| --------- | ------------------------- | --------- |
| pstMotdet | 4为最高灵敏度，最容易触发 | 输入      |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| -1     | 成功  |



**[NK_Int](#基础数据类型定义) (*<span id="VHD_SetDayNight">VHD_SetDayNight </span>)([int](#基础数据类型定义)   is_night)**

【描述】

设置人形侦测日夜间模式

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| is_night | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="VISP_GetAf">VISP_GetAf </span>)([NK_UInt32](#基础数据类型定义) *fv1,[NK_UInt32](#基础数据类型定义) *fv2,[NK_UInt32](#基础数据类型定义) *fvsum)**

【描述】

FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| fv1      | FIXME | FIXME     |
| fv2      | FIXME | FIXME     |
| fvsum    | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="VISP_GetSensorFrame">VISP_GetSensorFrame </span>)([NK_Int](#基础数据类型定义) *fps)**

【描述】

FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| fps      | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="SYSTEM_Get">SYSTEM_Get </span>)([NK_Int](#基础数据类型定义) enmuType,[NK_PVoid](#基础数据类型定义) lParam)**

【描述】

FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| enmuType | FIXME | FIXME     |
| lParam   | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="EVENT_SetHdCallBack">EVENT_SetHdCallBack </span>)([NK_Int](#基础数据类型定义) vin,[fSDK_EVENT_DO_TRAP](#fSDK_EVENT_DO_TRAP) do_trap)**

【描述】

FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| vin      | FIXME | FIXME     |
| do_trap  | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="EVENT_SetMdCallBack">EVENT_SetMdCallBack </span>)([NK_Int](#基础数据类型定义) vin,[fSDK_EVENT_DO_TRAP](#fSDK_EVENT_DO_TRAP) do_trap)**

【描述】

FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| vin      | FIXME | FIXME     |
| do_trap  | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="VIDEO_CALLBACK">VIDEO_CALLBACK </span>)([NK_PVoid](#基础数据类型定义) lParam)**

【描述】

FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| lParam   | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="SensorLensSwitch">SensorLensSwitch </span>)([NK_Int](#基础数据类型定义) nLens)**

【描述】

FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| nLens    | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



### 2.音频接口

**回调接口总览**

typedef struct _tagAUDIOCALLBACK_

{

  NK_Int  (* [AIAO_Init](#AIAO_Init))      (NK_PVoid lParam);

  NK_Int  (* [AIAO_Exit](#AIAO_Exit))      ();

  //////////音频输入操作

  NK_Int  (* [AIAO_OpenAi](#AIAO_OpenAi))         (NK_Int nChn, pstAENCODE pstAudioAi);

  NK_Int  (* [AIAO_CloseAi](#AIAO_CloseAi))        (NK_Int nChn);

  NK_Int  (* [AIAO_GetAi](#AIAO_GetAi))       (NK_Int nChn,pstENCBUFATTR pEncAttr, NK_PVoid *lpAiData, NK_Int* nAiLen, NK_Int *nFrameCount);

  NK_Int  (* [AIAO_RelAi](#AIAO_RelAi))       (NK_Int nChn);

  ///////////音频输出操作

  NK_Int  (* [AIAO_OpenAo](#AIAO_OpenAo))         (NK_Int nChn, pstAENCODE pstAudioAo);

  NK_Int  (* [AIAO_CloseAo](#AIAO_CloseAo))      (NK_Int nChn);

  NK_Int  (* [AIAO_PutAo](#AIAO_PutAo))       (NK_Int nChn, NK_PVoid lpAoData , NK_Int nAoLen);

  NK_Int  (* [AIAO_RelAo](#AIAO_RelAo))       (NK_Int nChn);

  ///////////音频控制操作

  NK_Int  (* [AIAO_SetParam](#AIAO_SetParam))      (NK_Int nChn, enAPISAUDIOTYPE enOptType, NK_PVoid lParam);

  NK_Int  (* [AIAO_AACDecodeInit](#AIAO_AACDecodeInit))   ();

  NK_Int  (* [AIAO_AACDecodeDeinit](#AIAO_AACDecodeDeinit))    ();

  NK_Int  (* [AIAO_AACDecode](#AIAO_AACDecode))     (NK_UInt8 **pu8Inbuf, NK_Int *ps32LeftByte, NK_UInt16* pu16Outbuf,  NK_UInt32* pu32OutLen, NK_UInt32* pu32Chns);

}AUDIOCALLBACK;



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_Init">AIAO_Init </span>) ([NK_PVoid](#基础数据类型定义) lParam)**

【描述】

音频输入输出初始化接口

【参数】

| 参数名称 | 描述                      | 输入/输出 |
| -------- | ------------------------- | --------- |
| lParam   | 音频输入参数---暂不使用。 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_Exit">AIAO_Exit </span>) ()**

【描述】

音频输入从输出退出接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_OpenAi">AIAO_OpenAi </span>) ([NK_Int](#基础数据类型定义) nChn, [pstAENCODE](#stAENCODE) pstAudioAi)**

【描述】

音频输入打开接口

【参数】

| 参数名称  | 描述                                            | 输入/输出 |
| --------- | ----------------------------------------------- | --------- |
| nChn      | 通道号                                          | 输入      |
| pstAiAttr | 音频输入结构体指针 @ref [stAENCODE](#stAENCODE) | 输出      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_CloseAi">AIAO_CloseAi </span>) ([NK_Int](#基础数据类型定义) nChn)**

【描述】

音频输入关闭接口

【参数】

| 参数名称 | 描述   | 输入/输出 |
| -------- | ------ | --------- |
| nChn     | 通道号 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_GetAi">AIAO_GetAi</span>) ([NK_Int](#基础数据类型定义) nChn,[pstENCBUFATTR](#stENCBUFATTR) pEncAttr, [NK_PVoid](#基础数据类型定义) *lpAiData, [NK_Int](#基础数据类型定义) *nAiLen, [NK_Int](#基础数据类型定义) *nFrameCount)**

【描述】

音频输入流获取接口

【参数】

| 参数名称    | 描述         | 输入/输出 |
| ----------- | ------------ | --------- |
| nChn        | 通道号       | 输入      |
| pEncAttr    | 音频编码指针 | 输入      |
| lpAiData    | 音频数据地址 | 输出      |
| nAiLen      | 数据大小     | 输出      |
| nFrameCount | FIXME        | 输出      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_RelAi">AIAO_RelAi </span>)([NK_Int](#基础数据类型定义) nChn)**

【描述】

音频输入流释放接口

【参数】

| 参数名称 | 描述   | 输入/输出 |
| -------- | ------ | --------- |
| nChn     | 通道号 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_OpenAo">AIAO_OpenAo </span>) ([NK_Int](#基础数据类型定义) nChn, [pstAENCODE](#stAENCODE) pstAudioAo)**

【描述】

音频输出打开接口

【参数】

| 参数名称   | 描述         | 输入/输出 |
| ---------- | ------------ | --------- |
| nChn       | 通道号       | 输入      |
| pstAudioAo | 音频输出配置 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_CloseAo">AIAO_CloseAo </span>) ([NK_Int](#基础数据类型定义) nChn)**

【描述】

音频输出关闭接口

【参数】

| 参数名称 | 描述   | 输入/输出 |
| -------- | ------ | --------- |
| nChn     | 通道号 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_PutAo">AIAO_PutAo </span>) ([NK_Int](#基础数据类型定义) nChn, [NK_PVoid](#基础数据类型定义) lpAoData, [NK_Int](#基础数据类型定义) nAoLen)**

【描述】

音频输出启动接口

【参数】

| 参数名称 | 描述     | 输入/输出 |
| -------- | -------- | --------- |
| nChn     | 通道号   | 输入      |
| lpAoData | 音频数据 | 输入      |
| nAoLen   | 数据大小 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_RelAo">AIAO_RelAo </span>) ([NK_Int](#基础数据类型定义) nChn)**

【描述】

音频输出释放接口

【参数】

| 参数名称 | 描述   | 输入/输出 |
| -------- | ------ | --------- |
| nChn     | 通道号 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_SetParam">AIAO_SetParam </span>) ([NK_Int](#基础数据类型定义) nChn, [enAPISAUDIOTYPE](#enAPISAUDIOTYPE) enOptType, [NK_PVoid](#基础数据类型定义) lParam)**

【描述】

音频参数设置接口

【参数】

| 参数名称  | 描述                                         | 输入/输出 |
| --------- | -------------------------------------------- | --------- |
| nChn      | 通道号                                       | 输入      |
| enOptType | 音频功能属性枚举                             | 输入      |
| lParam    | 设置值,取值为enOptType枚举对应的结构体或类型 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_AACDecodeInit">AIAO_AACDecodeInit </span>) ()**

【描述】

AAC解码初始化接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_AACDecodeDeinit">AIAO_AACDecodeDeinit </span>) ()**

【描述】

AAC解码初始化接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_AACDecode">AIAO_AACDecode </span>) ([NK_UInt8](#基础数据类型定义) ******pu8Inbuf, [NK_Int](#基础数据类型定义) *ps32LeftByte, [NK_UInt16](#基础数据类型定义) * pu16Outbuf, [NK_UInt32](#基础数据类型定义) * pu32OutLen, [NK_UInt32](#基础数据类型定义) * pu32Chns)**

【描述】

AAC解码接口

【参数】

| 参数名称     | 描述  | 输入/输出 |
| ------------ | ----- | --------- |
| *pu8Inbuf    | FIXME | FIXME     |
| ps32LeftByte | FIXME | FIXME     |
| pu16Outbuf   | FIXME | FIXME     |
| pu32OutLen   | FIXME | FIXME     |
| pu32Chns     | FIXME | FIXME     |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AIAO_PlayFile">AIAO_PlayFile </span>) ([NK_PChar](#基础数据类型定义) pFileName, [pstAENCODE](#stAENCODE) pAOEncode)**

【描述】

音频文件播放接口--暂未使用

【参数】

| 参数名称  | 描述             | 输入/输出 |
| --------- | ---------------- | --------- |
| nChn      | 通道号           | 输入      |
| pAOEncode | 音频输出编码参数 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



### 3.GPIO模块

**回调接口总览**

typedef struct _tagGPIOCALLBACK_

{

  NK_Int       (* [GPIO_Init](#GPIO_Init))         (NK_PVoid lParam);

  NK_Int       (* [GPIO_Exit](#GPIO_Exit))         (NK_PVoid lParam);

  NK_Int       (* [GPIO_PirInit](#GPIO_PirInit))     (NK_PVoid lParam);

  NK_Int       (* [GPIO_PirExit](#GPIO_PirExit))     (NK_PVoid lParam);

  NK_Int       (* [GPIO_Set](#GPIO_Set))       (enGPIOTYPE enmuType, NK_Int nValue);

  NK_Int       (* [GPIO_Get](#GPIO_Get))       (enGPIOTYPE enmuType, NK_Int* pValue);

  NK_Int       (* [GPIO_Attr](#GPIO_Attr))         (NK_PVoid lParam);

}GPIOCALLBACK;



**[NK_Int](#基础数据类型定义) (*<span id="SDK_Init"> </span>GPIO_Init) ([NK_PVoid](#基础数据类型定义) lParam)**

【描述】
GPIO初始化接口

【参数】

| 参数名称 | 描述                    | 输入/输出 |
| -------- | ----------------------- | --------- |
| lParam   | 串口配置参数---暂不使用 | 输入      |

【返回值】

| 返回值 | 描述       |
| ------ | ---------- |
| 0      | 初始化失败 |
| 1      | 初始化成功 |



**[NK_Int](#基础数据类型定义) (*<span id="GPIO_Exit">GPIO_Exit </span>) ([NK_PVoid](#基础数据类型定义) lParam)**

【描述】
GPIO退出接口

【参数】

| 参数名称 | 描述                    | 输入/输出 |
| -------- | ----------------------- | --------- |
| lParam   | 串口配置参数---暂不使用 | 输入      |

【返回值】

| 返回值 | 描述     |
| ------ | -------- |
| 0      | 销毁失败 |
| 1      | 销毁成功 |

**[NK_Int](#基础数据类型定义) (*<span id="GPIO_PirInit">GPIO_PirInit </span>) ([NK_PVoid](#基础数据类型定义) lParam)**

【描述】
FIXME

【参数】

| 参数名称 | 描述                    | 输入/输出 |
| -------- | ----------------------- | --------- |
| lParam   | 串口配置参数---暂不使用 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |
**[NK_Int](#基础数据类型定义) (*<span id="GPIO_PirExit">GPIO_PirExit </span>) ([NK_PVoid](#基础数据类型定义) lParam)**

【描述】
FIXME

【参数】

| 参数名称 | 描述                    | 输入/输出 |
| -------- | ----------------------- | --------- |
| lParam   | 串口配置参数---暂不使用 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="GPIO_Set">GPIO_Set </span>) ([enGPIOTYPE](#enGPIOTYPE) enmuType, [NK_Int](#基础数据类型定义) nValue)**

【描述】
GPIO设置接口

【参数】

| 参数名称 | 描述                                              | 输入/输出 |
| -------- | ------------------------------------------------- | --------- |
| enmuType | IO控制功能属性枚举 详见 [enGPIOTYPE](#enGPIOTYPE) | 输入      |
| nValue   | 设置值                                            | 输入      |

【返回值】

| 返回值 | 描述     |
| ------ | -------- |
| 0      | 读取失败 |
| 1      | 读取成功 |



**[NK_Int](#基础数据类型定义) (* <span id="GPIO_Get">GPIO_Get </span>) ([enGPIOTYPE](#enGPIOTYPE) enmuType, [NK_Int](#基础数据类型定义) *pValue)**

【描述】
GPIO设置接口

【参数】

| 参数名称 | 描述                                             | 输入/输出 |
| -------- | ------------------------------------------------ | --------- |
| enmuType | IO控制功能属性枚举 详见[enGPIOTYPE](#enGPIOTYPE) | 输入      |
| pValue   | 获取值                                           | 输出      |

【返回值】

| 返回值 | 描述     |
| ------ | -------- |
| 0      | 读取失败 |
| 1      | 读取成功 |



**[NK_Int](#基础数据类型定义) (*<span id="GPIO_Attr">GPIO_Attr </span>) ([NK_PVoid](#基础数据类型定义) lParam)**

【描述】
FIXME

【参数】

| 参数名称 | 描述                    | 输入/输出 |
| -------- | ----------------------- | --------- |
| lParam   | 串口配置参数---暂不使用 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



### 4. I2C模块

**回调接口总览**

typedef struct _tagI2CCALLBACK_

{

  NK_Int       (* [I2C_Init](#I2C_Init))     (NK_Void);

  NK_Int       (* [I2C_Exit](#I2C_Exit))     (NK_Void);

  NK_Int       (* [I2C_Read](#I2C_Read))     (NK_Int addr, NK_Int reg, NK_Int * val);

  NK_Int       (* [I2C_Write](#I2C_Write))       (NK_Int addr, NK_Int reg, NK_Int val);

}I2CCALLBACK;



**[NK_Int](#基础数据类型定义) (*<span id="I2C_Init">I2C_Init </span>) ([NK_Void](#基础数据类型定义));**

【描述】
I2C初始化接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述       |
| ------ | ---------- |
| 0      | 初始化失败 |
| 1      | 初始化成功 |



**[NK_Int](#基础数据类型定义) (*<span id="I2C_Exit">I2C_Exit </span>) ([NK_Void](#基础数据类型定义));**

【描述】
I2C销毁接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述     |
| ------ | -------- |
| 0      | 销毁失败 |
| 1      | 销毁成功 |



**[NK_Int](#基础数据类型定义) (*<span id="I2C_Read">I2C_Read </span>) ([NK_Int](#基础数据类型定义) addr, [NK_Int](#基础数据类型定义) reg, [NK_Int](#基础数据类型定义) * val);**

【描述】
I2C读取接口

【参数】

| 参数名称 | 描述               | 输入/输出 |
| -------- | ------------------ | --------- |
| addr     | 寄存器地址。       | 输入      |
| reg      | 偏移位置。         | 输入      |
| val      | 寄存器地址的数据。 | 输出      |

【返回值】

| 返回值 | 描述     |
| ------ | -------- |
| 0      | 读取失败 |
| 1      | 读取成功 |



**[NK_Int](#基础数据类型定义) (*<span id="I2C_Write">I2C_Write </span>) ([NK_Int](#基础数据类型定义) addr, [NK_Int](#基础数据类型定义) reg, [NK_Int](#基础数据类型定义) val);**

【描述】
I2C写入接口

【参数】

| 参数名称 | 描述                 | 输入/输出 |
| -------- | -------------------- | --------- |
| addr     | 寄存器地址           | 输入      |
| reg      | 偏移位置             | 输入      |
| val      | 写入寄存器地址的数据 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



### 5.PTZ模块

**回调接口总览**

typedef struct tagPTZConfig_

{   

   NK_Int vCurAngleMax;    // 垂直方向的最大角度    

   NK_Int hCurAngleMax;    // 水平方向的最大角度

   NK_Int nSpeed;   			//速度等级

   NK_Int vSteps;  				 // 垂直方向的步数

   NK_Int hSteps;   				// 水平方向的步数

   NK_Int beat;   					 //拍数

   NK_Int HHzMax;  				 //水平最大牵出频率

   NK_Int HHz;    					 //水平默认牵出频率

   NK_Int VHzMax;   				//垂直最大牵出频率

   NK_Int VHz;     /	/垂直默认牵出频率

   NK_Int (* [PTZ_CONFIG_GetAngle](#PTZ_CONFIG_GetAngle))(NK_Int *hCurAngle, NK_Int *vCurAngle);

   NK_Int (* [PTZ_CONFIG_SetAngle](#PTZ_CONFIG_SetAngle))(NK_Int hCurAngle, NK_Int vCurAngle);   

   NK_Int (* [PTZ_CONFIG_SaveAngle](#PTZ_CONFIG_SaveAngle))(NK_Int hCurAngle, NK_Int vCurAngle);

   NK_Int (* [PTZ_CONFIG_Memory](#PTZ_CONFIG_Memory))(NK_Int hCurAngle, NK_Int vCurAngle);

   NK_Int (* [PTZ_DigitalZoom_GetMf](#PTZ_DigitalZoom_GetMf))(NK_Float *Mf);///电子放大倍数

}stPTZConfig, *pstPTZConfig;



typedef struct tagPTZCALLBACK_

{

  NK_Int (* [PTZ_Init](#PTZ_Init))(pstPTZConfig ptzConfig,NK_Int vBoard);

  NK_Int (* [PTZ_Deinit](#PTZ_Deinit))();

  NK_Int (* [PTZ_TurnSteps](#PTZ_TurnSteps))(NK_Int direction, NK_Int steps);

  NK_Int (* [PTZ_TurnToPos](#PTZ_TurnToPos))(NK_Int horizontalPos, NK_Int verticalPos);

  NK_Int (* [PTZ_TurnToPosEx](#PTZ_TurnToPosEx))(NK_Int horizontalPos, NK_Int verticalPos);

  NK_Int (* [PTZ_SetSpeed](#PTZ_SetSpeed))(NK_Int speed);

  NK_Int (* [PTZ_SetSpeedEx](#PTZ_SetSpeedEx))(NK_Int hSpeed,NK_Int vSpeed);////用于双目摄像机速度设置

  NK_Int (* [PTZ_StopTurn](#PTZ_StopTurn))();

  NK_Int (* [PTZ_CurAngleGet](#PTZ_CurAngleGet))(NK_Int *hCurAngle, NK_Int *vCurAngle);

  NK_Int (* [PTZ_AngleSelfCheck](#PTZ_AngleSelfCheck))(NK_Int bAllAround);

  NK_Int (* [PTZ_AngleVHSelfCheck](#PTZ_AngleVHSelfCheck))(NK_Int nPtzCmd);

  NK_Int (* [PTZ_MaxAngleSet](#PTZ_MaxAngleSet))(NK_Int hMaxAngle, NK_Int vMaxAngle,NK_Int hSteps,NK_Int vSteps,NK_Int beat);

  NK_Int (* [PTZ_MaxHzSet](#PTZ_MaxHzSet))(NK_Int nHHzMax, NK_Int nHHz,NK_Int nVHzMax,NK_Int nVHz);

  NK_Int (* [PTZ_TurnOem](#PTZ_TurnOem))(NK_Int hTurn, NK_Int vTurn);

  NK_Int (* [PTZ_GetSerialPortName](#PTZ_GetSerialPortName))(char *strName, int nLen);

}PTZCALLBACK;



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_Init">PTZ_Init </span>)([pstPTZConfig](#stPTZConfig) ptzConfig,[NK_Int](#基础数据类型定义) vBoard)**

【描述】
PTZ初始化接口

【参数】

| 参数名称  | 描述                   | 输入/输出 |
| --------- | ---------------------- | --------- |
| ptzConfig | 云台初始化回调接口配置 | 输入      |
| vBoard    | FIXME                  | FIXME     |

【返回值】

| 返回值 | 描述       |
| ------ | ---------- |
| -1     | 初始化失败 |
| 0      | 初始化成功 |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_Deinit">PTZ_Deinit </span>)()**

【描述】
PTZ销毁接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述     |
| ------ | -------- |
| -1     | 销毁失败 |
| 0      | 销毁成功 |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_TurnSteps">PTZ_TurnSteps </span>)([NK_Int](#基础数据类型定义) direction, [NK_Int](#基础数据类型定义) steps)**

【描述】
云台移动

【参数】

| 参数名称  | 描述                                    | 输入/输出 |
| --------- | --------------------------------------- | --------- |
| direction | 移动方向。参考enAPIS_PTZ_TURN_DIRECTION | 输入      |
| steps     | 移动步数。                              | 输入      |

【返回值】

| 返回值 | 描述     |
| ------ | -------- |
| -1     | 读取失败 |
| 0      | 读取成功 |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_TurnToPos">PTZ_TurnToPos </span>)([NK_Int](#基础数据类型定义) horizontalPos, [NK_Int](#基础数据类型定义) verticalPos)**

【描述】
云台移动到指定位置

【参数】

| 参数名称      | 描述         | 输入/输出 |
| ------------- | ------------ | --------- |
| horizontalPos | 水平坐标位置 | 输入      |
| verticalPos   | 竖直坐标位置 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_TurnToPosEx">PTZ_TurnToPosEx</span>)([NK_Int](#基础数据类型定义) horizontalPos, [NK_Int](#基础数据类型定义) verticalPos)**

【描述】
云台移动到指定位置--用于双目摄像机

【参数】

| 参数名称      | 描述         | 输入/输出 |
| ------------- | ------------ | --------- |
| horizontalPos | 水平坐标位置 | 输入      |
| verticalPos   | 竖直坐标位置 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_SetSpeed">PTZ_SetSpeed </span>)([NK_Int](#基础数据类型定义) speed)**

【描述】
云台设置移动速度

【参数】

| 参数名称 | 描述       | 输入/输出 |
| -------- | ---------- | --------- |
| speed    | 移动速度值 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_SetSpeedEx">PTZ_SetSpeedEx</span>)([NK_Int](#基础数据类型定义) hSpeed,[NK_Int](#基础数据类型定义) vSpeed)**

【描述】
云台设置移动速度--用于双目摄像机

【参数】

| 参数名称 | 描述       | 输入/输出 |
| -------- | ---------- | --------- |
| speed    | 移动速度值 | 输入      |
| vSpeed   | FIXME      | FIXME     |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_StopTurn">PTZ_StopTurn </span>)()**

【描述】
云台设置停止移动

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述     |
| ------ | -------- |
| -1     | 操作失败 |
| 0      | 操作成功 |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_CurAngleGet">PTZ_CurAngleGet</span>)([NK_Int](#基础数据类型定义) *hCurAngle, [NK_Int](#基础数据类型定义) *vCurAngle)**

【描述】
FIXME

【参数】

| 参数名称  | 描述  | 输入/输出 |
| --------- | ----- | --------- |
| hCurAngle | FIXME | FIXME     |
| vCurAngle | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_AngleSelfCheck">PTZ_AngleSelfCheck</span>)([NK_Int](#基础数据类型定义) bAllAround)**

【描述】
FIXME

【参数】

| 参数名称   | 描述  | 输入/输出 |
| ---------- | ----- | --------- |
| bAllAround | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_AngleVHSelfCheck">PTZ_AngleVHSelfCheck</span>)([NK_Int](#基础数据类型定义) nPtzCmd)**

【描述】
FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| nPtzCmd  | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_MaxAngleSet">PTZ_MaxAngleSet</span>)([NK_Int](#基础数据类型定义) hMaxAngle, [NK_Int](#基础数据类型定义) vMaxAngle, [NK_Int](#基础数据类型定义) hSteps, [NK_Int](#基础数据类型定义) vSteps, [NK_Int](#基础数据类型定义) beat)**

【描述】
FIXME

【参数】

| 参数名称  | 描述  | 输入/输出 |
| --------- | ----- | --------- |
| hMaxAngle | FIXME | FIXME     |
| vMaxAngle | FIXME | FIXME     |
| hSteps    | FIXME | FIXME     |
| vSteps    | FIXME | FIXME     |
| beat      | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_MaxHzSet">PTZ_MaxHzSet</span>)([NK_Int](#基础数据类型定义) nHHzMax, [NK_Int](#基础数据类型定义) nHHz, [NK_Int](#基础数据类型定义) nVHzMax, [NK_Int](#基础数据类型定义) nVHz)**

【描述】
FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| nHHzMax  | FIXME | FIXME     |
| nHHz     | FIXME | FIXME     |
| nVHzMax  | FIXME | FIXME     |
| nVHz     | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |

**[NK_Int](#基础数据类型定义) (*<span id="PTZ_TurnOem">PTZ_TurnOem</span>)([NK_Int](#基础数据类型定义) hTurn, [NK_Int](#基础数据类型定义) vTurn)**

【描述】
FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| hTurn    | FIXME | FIXME     |
| vTurn    | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |

**[NK_Int](#基础数据类型定义) (*<span id="PTZ_GetSerialPortName">PTZ_GetSerialPortName</span>)([NK_Int](#基础数据类型定义) *strName, [Int](#基础数据类型定义) nLen)**

【描述】
获取串口名字

【参数】

| 参数名称 | 描述         | 输入/输出 |
| -------- | ------------ | --------- |
| strName  | 返回串口名字 | 输出      |
| nLen     | 一字符串大小 | 输入      |

【返回值】

| 返回值   | 描述 |
| -------- | ---- |
| NK_FALSE | 失败 |
| NK_TRUE  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_CONFIG_GetAngle">PTZ_CONFIG_GetAngle </span>)([NK_Int](#基础数据类型定义) *hCurAngle, [NK_Int](#基础数据类型定义) *vCurAngle)**

【描述】
FIXME

【参数】

| 参数名称  | 描述  | 输入/输出 |
| --------- | ----- | --------- |
| hCurAngle | FIXME | FIXME     |
| vCurAngle | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_CONFIG_SetAngle">PTZ_CONFIG_SetAngle </span>)([NK_Int](#基础数据类型定义) hCurAngle, [NK_Int](#基础数据类型定义) vCurAngle)**

【描述】
云台设置停止移动

【参数】

| 参数名称  | 描述  | 输入/输出 |
| --------- | ----- | --------- |
| hCurAngle | FIXME | FIXME     |
| vCurAngle | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_CONFIG_SaveAngle">PTZ_CONFIG_SaveAngle </span>)([NK_Int](#基础数据类型定义) hCurAngle, [NK_Int](#基础数据类型定义) vCurAngle)**

【描述】
云台设置停止移动

【参数】

| 参数名称  | 描述  | 输入/输出 |
| --------- | ----- | --------- |
| hCurAngle | FIXME | FIXME     |
| vCurAngle | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_CONFIG_Memory">PTZ_CONFIG_Memory </span>)([NK_Int](#基础数据类型定义) hCurAngle, [NK_Int](#基础数据类型定义) vCurAngle)**

【描述】
云台设置停止移动

【参数】

| 参数名称  | 描述  | 输入/输出 |
| --------- | ----- | --------- |
| hCurAngle | FIXME | FIXME     |
| vCurAngle | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义) (*<span id="PTZ_DigitalZoom_GetMf"> PTZ_DigitalZoom_GetMf</span>)([NK_Float](#基础数据类型定义) *Mf)**

【描述】
云台设置停止移动

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| *Mf      | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



### 6.看门狗接口

**回调接口总览**

typedef struct _tagWTGCALLBACK_

{

  NK_Int       (* [WTG_Start](#WTG_Start))         (NK_Int nTimeOut);

  NK_Int       (* [WTG_Stop](#WTG_Stop))       ();

  NK_Int       (* [WTG_SetParam](#WTG_SetParam))     (enAPISWTGTYPE enmuType, NK_Int nParam);

}WTGCALLBACK;



**[NK_Int](#基础数据类型定义) (*<span id="WTG_Start">WTG_Start </span>)([NK_Int](#基础数据类型定义) nTimeOut);** 

【描述】
看门狗初始化接口

【参数】

| 参数名称 | 描述           | 输入/输出 |
| -------- | -------------- | --------- |
| nTimeOut | 喂狗超时时间。 | 输入      |

【返回值】

| 返回值   | 描述       |
| -------- | ---------- |
| NK_FALSE | 初始化失败 |
| NK_TRUE  | 初始化成功 |



**[NK_Int](#基础数据类型定义) (*<span id="WTG_Stop">WTG_Stop </span>)();** 

【描述】
看门狗销毁接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值   | 描述     |
| -------- | -------- |
| NK_FALSE | 销毁失败 |
| NK_TRUE  | 销毁成功 |



**[NK_Int](#基础数据类型定义) (*<span id="WTG_SetParam">WTG_SetParam </span>)([enAPISWTGTYPE](#enAPISWTGTYPE) enmuType, [NK_Int](#基础数据类型定义) nParam);** 

【描述】
看门狗设置接口

【参数】

| 参数名称 | 描述                                           | 输入/输出 |
| -------- | ---------------------------------------------- | --------- |
| enmuType | 参考[enAPISWTGTYPE](#enAPISWTGTYPE) 枚举类型。 | 输入      |
| nParam   | 参数值。--暂未使用。                           | 输入      |

【返回值】

| 返回值   | 描述     |
| -------- | -------- |
| NK_FALSE | 设置失败 |
| NK_TRUE  | 设置成功 |



### 7.OTP模块

**回调接口总览**

typedef struct _tagAUTHCALLBACK_

{

  NK_Int  (* [AUTH_Init](#AUTH_Init))      (NK_Char randId[8], NK_Char *path);

  NK_Int  (* [AUTH_SetOtpData](#AUTH_SetOtpData))     (NK_PChar data, NK_Int nLen);

  NK_Int  (* [AUTH_GetOtpData](#AUTH_GetOtpData))     (NK_PChar data, NK_Int *nLen);

  NK_Int  (* [AUTH_SetSecureData](#AUTH_SetSecureData)) (NK_Char *path, NK_PChar data, NK_Int nLen);

  NK_Int  (* [AUTH_GetSecureData](#AUTH_GetSecureData)) (NK_Char *path, NK_PChar data, NK_Int *nLen);

} AUTHCALLBACK;



**[NK_Int](#基础数据类型定义) (*<span id="AUTH_Init">AUTH_Init </span>) ([NK_Char](#基础数据类型定义) randId[8], [NK_Char](#基础数据类型定义) *path)**

【描述】

OTP初始化接口

【参数】

| 参数名称  | 描述  | 输入/输出 |
| --------- | ----- | --------- |
| randId[8] | FIXME | FIXME     |
| path      | FIXME | FIXME     |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AUTH_SetOtpData">AUTH_SetOtpData </span>) ([NK_Char](#基础数据类型定义) data, [NK_Int](#基础数据类型定义) nLen)**

【描述】

FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| data     | FIXME | FIXME     |
| nLen     | FIXME | FIXME     |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AUTH_GetOtpData">AUTH_GetOtpData </span>) ([NK_Char](#基础数据类型定义) data, [NK_Int](#基础数据类型定义) *nLen)**

【描述】

FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| data     | FIXME | 输入      |
| nLen     | FIXME | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AUTH_SetSecureData">AUTH_SetSecureData </span>) ([NK_Char](#基础数据类型定义) *path, [NK_pChar](#基础数据类型定义) data,[NK_Int](#基础数据类型定义) nLen)**

【描述】
OTP写入解密数据

【参数】

| 参数名称 | 描述                                | 输入/输出 |
| -------- | ----------------------------------- | --------- |
| path     | FLASH存储路径，用于保存加密后数据。 | 输入      |
| data     | 加密后数据                          | 输入      |
| nLen     | FIXME                               | FIXME     |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AUTH_GetSecureData">AUTH_GetSecureData </span>) ([NK_Char](#基础数据类型定义) *path, [NK_pChar](#基础数据类型定义) data,[NK_Int](#基础数据类型定义) *nLen)**

【描述】
OTP获取加密数据

【参数】

| 参数名称 | 描述                              | 输入/输出 |
| -------- | --------------------------------- | --------- |
| path     | FLASH存储路径，用于保存加密后数据 | 输入      |
| data     | 加密后数据                        | 输入      |
| nLen     | FIXME                             | FIXME     |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| 0      | 失败 |
| 1      | 成功 |



### 8.升级内存申请

**回调接口总览**

typedef struct _tagUPGRADECALLBACK_

{

  NK_PVoid (* [Upgrade_GetHandle](#Upgrade_GetHandle))();

  NK_Int (* [Upgrade_GetPhyMirror](#Upgrade_GetPhyMirror))(NK_PChar pPath, NK_Int size, NK_UInt32 *phy_addr, int *phy_size);

  NK_Int (* [Upgrade_Mmap](#Upgrade_Mmap))(NK_Int nSize, NK_Int *vir_addr);

} UPGRADECALLBACK;



**[NK_PVoid](#基础数据类型定义) (*<span id="Upgrade_GetHandle"> Upgrade_GetHandle</span>) ();**

【描述】
FIXME

【参数】
| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】
| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义)(*<span id="Upgrade_GetPhyMirror">Upgrade_GetPhyMirror </span>)([NK_PChar](#基础数据类型定义) pPath,[NK_Int](#基础数据类型定义) size,[NK_UInt32](#基础数据类型定义) *phy_addr,[int](#基础数据类型定义) *phy_size);**

【描述】
指定物理内存镜像地址

【参数】
| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| pPath    | FIXME | FIXME     |
| size     | FIXME | FIXME     |
| phy_addr | FIXME | FIXME     |
| phy_size | FIXME | FIXME     |

【返回值】
| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



**[NK_Int](#基础数据类型定义)(*<span id="Upgrade_Mmap">Upgrade_Mmap </span>)( [NK_Int](#基础数据类型定义) nSize, [NK_Int](#基础数据类型定义) vir_addr);**

【描述】
FIXME

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| nSize    | FIXME | FIXME     |
| vir_addr | FIXME | FIXME     |

【返回值】

| 返回值 | 描述  |
| ------ | ----- |
| FIXME  | FIXME |
| FIXME  | FIXME |



### 9.AF模块

**回调接口总览**

typedef struct tagAFCALLBACK_

{

  NK_Int (* [AF_Init](#AF_Init))();

  NK_Int (* [AF_Deinit](#AF_Deinit))();

  NK_Int (* [AF_Config](#AF_Config))(NK_Int beat, NK_Int ZoomOem, NK_Int FocusOem, NK_Int ZMax, NK_Int FMax);

  NK_Int (* [AF_CheckSelf](#AF_CheckSelf))();

   ///////// 以当前点向前/后转动指定步数

  NK_Int (* [AF_ZoomTurnSteps](#AF_ZoomTurnSteps))(enAPIS_ZOOM_DIRECTION direction, NK_Int steps);

  NK_Int (* [AF_FocusTurnSteps](#AF_FocusTurnSteps))(enAPIS_FOCUS_DIRECTION direction, NK_Int steps);

   /////////定点到指定位置

  NK_Int (* [AF_ZoomTurnToPos](#AF_ZoomTurnToPos))(NK_Int pos);

  NK_Int (* [AF_FocusTurnToPos](#AF_FocusTurnToPos))(NK_Int pos);

   /////////设置转动速度

  NK_Int (* [AF_ZoomSetSpeed](#AF_ZoomSetSpeed))(enAPIS_AF_SPEED speed);

  NK_Int (* [AF_FocusSetSpeed](#AF_FocusSetSpeed))(enAPIS_AF_SPEED speed);

   /////////获取当前位置

  NK_Int (* [AF_ZoomGetCurPos](#AF_ZoomGetCurPos))(NK_Int *pos);

  NK_Int (* [AF_FocusGetCurPos](#AF_FocusGetCurPos))(NK_Int *pos);

   //////////停止转动

  NK_Int (* [AF_ZoomStop](#AF_ZoomStop))();

  NK_Int (* [AF_FocusStop](#AF_FocusStop))();

}AFCALLBACK;



**[NK_Int](#基础数据类型定义) (*<span id="AF_Init">AF_Init </span>) ()**

【描述】

AF初始化,初始化硬件gpio和接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_Deinit">AF_Deinit </span>) ()**

【描述】

AF反初始化

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_Config">AF_Config </span>) ([NK_Int](#基础数据类型定义) beat, [NK_Int](#基础数据类型定义) ZoomOem, [NK_Int](#基础数据类型定义) FocusOem, [NK_Int](#基础数据类型定义) ZMax, [NK_Int](#基础数据类型定义) FMax)**

【描述】

FIXME

【参数】

| 参数名称 | 描述     | 输入/输出 |
| -------- | -------- | --------- |
| beat     | 通道号   | 输入      |
| ZoomOem  | 音频数据 | 输入      |
| FocusOem | 数据大小 | 输入      |
| ZMax     |          |           |
| FMax     |          |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_CheckSelf">AF_CheckSelf </span>) ()**

【描述】

FIXME

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_ZoomTurnSteps">AF_ZoomTurnSteps </span>) ([enAPIS_ZOOM_DIRECTION](#enAPIS_ZOOM_DIRECTION) direction, [NK_Int](#基础数据类型定义) steps)**

【描述】

以当前点向前/后转动指定步数

【参数】

| 参数名称  | 描述       | 输入/输出 |
| --------- | ---------- | --------- |
| direction | 转动方向   | 输入      |
| steps     | 转动的步数 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_FocusTurnSteps"> AF_FocusTurnSteps</span>) ([enAPIS_ZOOM_DIRECTION](#enAPIS_ZOOM_DIRECTION) direction, [NK_Int](#基础数据类型定义) steps)**

【描述】

以当前点向前/后转动指定步数

【参数】

| 参数名称  | 描述       | 输入/输出 |
| --------- | ---------- | --------- |
| direction | 转动方向   | 输入      |
| steps     | 转动的步数 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_ZoomTurnToPos"> AF_ZoomTurnToPos</span>) ([NK_Int](#基础数据类型定义) pos)**

【描述】

定点到指定位置

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| pos      |      | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_FocusTurnToPos">AF_FocusTurnToPos </span>) ([NK_Int](#基础数据类型定义) pos)**

【描述】

定点到指定位置

【参数】

| 参数名称 | 描述  | 输入/输出 |
| -------- | ----- | --------- |
| pos      | FIXME | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_ZoomSetSpeed">AF_ZoomSetSpeed </span>) ([enAPIS_AF_SPEED](#enAPIS_AF_SPEED) speed)**

【描述】

设置转动速度

【参数】

| 参数名称 | 描述     | 输入/输出 |
| -------- | -------- | --------- |
| speed    | 速度等级 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_FocusSetSpeed">AF_FocusSetSpeed </span>) ([enAPIS_AF_SPEED](#enAPIS_AF_SPEED) speed)**

【描述】

设置转动速度

【参数】

| 参数名称 | 描述     | 输入/输出 |
| -------- | -------- | --------- |
| speed    | 速度等级 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_ZoomGetCurPos"> AF_ZoomGetCurPos</span>) ([NK_Int](#基础数据类型定义) *pos)**

【描述】

获取当前位置

【参数】

| 参数名称 | 描述             | 输入/输出 |
| -------- | ---------------- | --------- |
| pos      | 用于存放当前坐标 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_FocusGetCurPos">AF_FocusGetCurPos </span>) ([NK_Int](#基础数据类型定义) *pos)**

【描述】

获取当前位置

【参数】

| 参数名称 | 描述             | 输入/输出 |
| -------- | ---------------- | --------- |
| pos      | 用于存放当前坐标 | 输入      |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_FocusGetCurPos"> AF_FocusGetCurPos</span>x) ()**

【描述】

c

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="AF_FocusStop">AF_FocusStop </span>) ()**

【描述】

停止转动

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| -1     | 失败 |
| 0      | 成功 |



### 10.RTC模块

**回调接口总览**

typedef struct tagRTCCALLBACK_

{

  NK_Int (* [RTC_Init](#RTC_Init))   ();

  NK_Int (* [RTC_Exit](#RTC_Exit))  ();

  NK_Int (* [RTC_Read](#RTC_Read))   (NK_UInt64* ptv_sec,NK_UInt64* ptv_usec, NK_Int* pZoneIndex);

  NK_Int (* [RTC_Write](#RTC_Write))  (NK_UInt64 tv_sec,NK_UInt64 tv_usec, NK_Int ZoneIndex);

  NK_Int (* [SystemTime_Sync](#SystemTime_Sync)) (NK_UInt64 tv_sec,NK_UInt64 tv_usec, NK_Int ZoneIndex);

  NK_Int (* [SystemTime_DstSync](#SystemTime_DstSync)) (NK_Int nOffset, NK_Int nSmon, NK_Int nSweek, NK_Int nSweekday, NK_Int nShour, NK_Int nSmin,NK_Int nEmon, NK_Int nEmon, NK_Int nEweekday, NK_Int nEhour, NK_Int nEmin);

}RTCCALLBACK;

**[NK_Int](#基础数据类型定义) (*<span id="RTC_Init">RTC_Init </span>) ()**

【描述】

初始化RTC接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| FIXME  | 失败 |
| FIXME  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="RTC_Exit">RTC_Exit </span>) ()**

【描述】

反初始化RTC接口

【参数】

| 参数名称 | 描述 | 输入/输出 |
| -------- | ---- | --------- |
| 无       |      |           |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| FIXME  | 失败 |
| FIXME  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="RTC_Read">RTC_Read </span>) ([NK_UInt64](#基础数据类型定义) *ptv_sec, [NK_UInt64](#基础数据类型定义) *ptv_usec,[NK_Int](#基础数据类型定义) *pZoneIndex)**

【描述】

从RTC读取时间

【参数】

| 参数名称   | 描述  | 输入/输出 |
| ---------- | ----- | --------- |
| ptv_sec    | FIXME | FIXME     |
| ptv_usec   | FIXME | FIXME     |
| pZoneIndex | FIXME | FIXME     |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| FIXME  | 失败 |
| FIXME  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="RTC_Write">RTC_Write </span>) ([NK_UInt64](#基础数据类型定义) tv_sec, [NK_UInt64](#基础数据类型定义) tv_usec,[NK_Int](#基础数据类型定义) ZoneIndex)**

【描述】

设置时间到RTC

【参数】

| 参数名称  | 描述  | 输入/输出 |
| --------- | ----- | --------- |
| tv_sec    | FIXME | FIXME     |
| tv_usec   | FIXME | FIXME     |
| ZoneIndex | FIXME | FIXME     |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| FIXME  | 失败 |
| FIXME  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="SystemTime_Sync">SystemTime_Sync </span>) ([NK_UInt64](#基础数据类型定义) tv_sec, [NK_UInt64](#基础数据类型定义) tv_usec,[NK_Int](#基础数据类型定义) ZoneIndex)**

【描述】

FIXME

【参数】

| 参数名称  | 描述  | 输入/输出 |
| --------- | ----- | --------- |
| tv_sec    | FIXME | FIXME     |
| tv_usec   | FIXME | FIXME     |
| ZoneIndex | FIXME | FIXME     |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| FIXME  | 失败 |
| FIXME  | 成功 |



**[NK_Int](#基础数据类型定义) (*<span id="SystemTime_DstSync">SystemTime_DstSync </span>) ([NK_Int](#基础数据类型定义) nOffset,[NK_Int](#基础数据类型定义) nSmon,[NK_Int](#基础数据类型定义) nSweek,[NK_Int](#基础数据类型定义) nSweekday,[NK_Int](#基础数据类型定义) nShour,[NK_Int](#基础数据类型定义) nSmin,[NK_Int](#基础数据类型定义) nEmon,[NK_Int](#基础数据类型定义) nEweek,[NK_Int](#基础数据类型定义) nEweekday,[NK_Int](#基础数据类型定义) nEhour,[NK_Int](#基础数据类型定义) nEmin)**

【描述】

FIXME

【参数】

| 参数名称  | 描述  | 输入/输出 |
| --------- | ----- | --------- |
| nOffset   | FIXME | FIXME     |
| data      | FIXME | FIXME     |
| nSweek    | FIXME | FIXME     |
| nSweekday | FIXME | FIXME     |
| nShour    | FIXME | FIXME     |
| nSmin     | FIXME | FIXME     |
| nEmon     | FIXME | FIXME     |
| nEweek    | FIXME | FIXME     |
| nEweekday | FIXME | FIXME     |
| nEhour    | FIXME | FIXME     |
| nEmin     | FIXME | FIXME     |

【返回值】

| 返回值 | 描述 |
| ------ | ---- |
| FIXME  | 失败 |
| FIXME  | 成功 |



### 11.数据结构参考

**<span id="stVIDEOCHN">stVIDEOCHN</span>**
【说明】
	视频通道定义。
【定义】

```c
typedef struct tagAPIS_VIDEOCHN_
{
		NK_Int nChnVi; 
		NK_Int nChnVenc;
}stVIDEOCHN,*pstVIDEOCHN;
```

【成员】
| 成员名称 | 描述         |
| -------- | ------------ |
| nChnVi   | 视频输入通道 |
| nChnVenc | 视频编码通道 |

**<span id="stVIDEOENCODE">stVIDEOENCODE</span>**
【说明】
	视频编码定义。
【定义】

```c
typedef struct tagVIDEO_ENCODE_
{
	NK_Int		bEnable;						
	NK_Int		enProfileType;					
	NK_Int		enEncodeType;					
	NK_Int		enResolution;					
	NK_Int 		nWidth;							
	NK_Int		nHeight;						
	NK_Int		enBitrateType;					
	NK_Int		enQuality;						
	NK_Int 		nBitrate;						
	NK_Int 		nFrameRate;						
	NK_Int 		nMinFrameRate;					
	NK_Int 		nMaxFrameRate;					
	NK_Int 		nMinQp;							
	NK_Int 		nMaxQp;							
	NK_Int 		nIFrameMinQp;					
	NK_Int 		nIFrameMaxQp;					
	NK_Int 		nIFrameMaxSize;					
	NK_Int	 	nFrameInterval;				
	NK_Int 		nFrameGop;					  
	NK_Int 		nFrameDepth;					
	NK_Int 		nSmartMode;						
	NK_Int 		nSmartGoplen;					
	NK_Int 		nSmartQuality; 					
	NK_Int 		nSmartStaticValue; 				
}stVIDEOENCODE,*pstVIDEOENCODE;
```

【成员】
| 成员名称          | 描述                                                         |
| ----------------- | ------------------------------------------------------------ |
| bEnable           | 是否开启视频编码 0:不开启,1:开启                             |
| enProfileType     | 编码复杂度:0 =baseline , 1 =mainline, 2 =highline            |
| enEncodeType      | 视频编码标准H264,H265,MPEG  @ref [enENCODETYPE](#enENCODETYPE) |
| nWidth            | 实际分辨率的宽                                               |
| nHeight           | 实际分辨率的高                                               |
| enBitrateType     | 定码率EN_CTRLMODE_CBR、变码率EN_CTRLMODE_VBR                 |
| enQuality         | 图象质量等级                                                 |
| nBitrate          | 设置码流值                                                   |
| nFrameRate        | 视频帧率，PAL：1/16-25；NTCS：1/16-30                        |
| nFrameGop         | 视频编码GOP值                                                |
| enResolution      | 分辨率：QCIF、CIF、2CIF、DCIF、4CIF、D1                      |
| nMinFrameRate     | 视频最小帧率                                                 |
| nMaxFrameRate     | 视频最大帧率                                                 |
| nMinQp            | 视频最小QP值                                                 |
| nMaxQp            | 视频最大QP值                                                 |
| nIFrameMinQp      | I帧最小QP值                                                  |
| nIFrameMaxQp      | I帧最大QP值                                                  |
| nIFrameMaxSize    | I帧最大码流值                                                |
| nFrameInterval    | I帧间隔                                                      |
| nFrameDepth       | 视频编码frame buffer number of the channel                   |
| nSmartMode        | 0:disable smart, 1:mode of LTR, 2:mode of changing GOP length |
| nSmartGoplen      | smart goplen                                                 |
| nSmartQuality     | smart quality                                                |
| nSmartStaticValue | smart static value                                           |

**<span id="enSDK_ENC_BUF_DATA_TYPE">enSDK_ENC_BUF_DATA_TYPE</span>**
【说明】
	视频编码数据类型定义。
【定义】

```c
typedef enum SDK_ENC_BUF_DATA_TYPE
{
		// video
		kSDK_ENC_BUF_DATA_H264 = (0x00000000UL),
		kSDK_ENC_BUF_DATA_H265,
		kSDK_ENC_BUF_DATA_JPEG,
		// audio
		kSDK_ENC_BUF_DATA_PCM = (0x80000000UL),
		kSDK_ENC_BUF_DATA_G711A,
		kSDK_ENC_BUF_DATA_G711U,
		kSDK_ENC_BUF_DATA_AAC,
        //event
	    kSDK_ENC_BUF_DATA_EVENT = (0x90000000UL),
		//Intelligent Video data
		kSDK_ENC_BUF_DATA_MD = (0xC0000000UL),
}enSDK_ENC_BUF_DATA_TYPE, *lpSDK_ENC_BUF_DATA_TYPE;
```

【成员】
| 成员名称                | 描述          |
| ----------------------- | ------------- |
| kSDK_ENC_BUF_DATA_H264  | 视频264编码   |
| kSDK_ENC_BUF_DATA_H265  | 视频265编码   |
| kSDK_ENC_BUF_DATA_JPEG  | 视频JPEG编码  |
| kSDK_ENC_BUF_DATA_PCM   | 音频PCM编码   |
| kSDK_ENC_BUF_DATA_G711A | 音频G711A编码 |
| kSDK_ENC_BUF_DATA_G711U | 音频G711U编码 |
| kSDK_ENC_BUF_DATA_AAC   | 音频AAC编码   |
| kSDK_ENC_BUF_DATA_MD    | 智能侦测数据  |
| kSDK_ENC_BUF_DATA_EVENT | 活动数据      |



**<span id="stSDK_ENC_EVENT">stSDK_ENC_EVENT</span>**
【说明】
FIXME

【定义】

```c
typedef struct
{
	stSDK_EVENT_IO_DATA ioData;
	stSDK_EVENT_IVD_DATA ivdData;
	time_t utc;
}stSDK_ENC_EVENT, *lpSDK_ENC_EVENT;
```

【成员】

| 成员名称 | 描述  |
| -------- | ----- |
| ioData   | FIXME |
| ivdData  | FIXME |
| utc      | FIXME |



**<span id="stENCBUFATTR">stENCBUFATTR</span>**
【说明】
	音视频数据定义。
【定义】

```c
typedef struct SDK_ENC_BUF_ATTR 
{
		uint32_t magic; 
		enSDK_ENC_BUF_DATA_TYPE type;
		uint64_t timestamp_us; 
		uint64_t time_us;
		size_t data_sz;
		union 
	    {
			struct 
			{
				uint32_t keyframe; 
				uint32_t ref_counter; 
				uint32_t fps;
				uint32_t width;
				uint32_t height;
			}h264;
			struct 
			{
				uint32_t keyframe; 
				uint32_t ref_counter; 
				uint32_t fps;
				uint32_t width;
				uint32_t height;
			}h265;
			struct 
			{
				uint32_t sample_rate;
				uint32_t sample_width;
				uint32_t packet;
				float compression_ratio; 
			}pcm, g711a, g711u;
            stSDK_ENC_EVENT event;
	     };
	_kp2p_frame_head_t p2pFrameHead;
}stSDK_ENC_BUF_ATTR,*lpSDK_ENC_BUF_ATTR,stENCBUFATTR,* pstENCBUFATTR;
```

【成员】
| 成员名称          | 描述                                                         |
| ----------------- | ------------------------------------------------------------ |
| magic             | 幻数, 取值kSDK_ENC_BUF_DATA_MAGIC #define kSDK_ENC_BUF_DATA_MAGIC (0xff00a0a0UL) |
| type              | 音视频数据类型，参考[enSDK_ENC_BUF_DATA_TYPE](#enSDK_ENC_BUF_DATA_TYPE) |
| timestamp_us      | Soc系统时间戳 ,单位微秒                                      |
| time_us           | 系统时钟，单位微秒                                           |
| data_sz           | 音视频数据长度值                                             |
| keyframe          | 视频关键帧标志，为1是关键帧。                                |
| ref_counter       | 参考帧计数值                                                 |
| fps               | 帧率值                                                       |
| width             | 分辨率宽                                                     |
| height            | 分辨率高                                                     |
| sample_rate       | 音频采样率                                                   |
| sample_width      | 音频位宽                                                     |
| packet            | 音频包大小                                                   |
| compression_ratio | 为2.0表示G711A                                               |
| event             | FIXME，参考[stSDK_ENC_EVENT](#stSDK_ENC_EVENT)               |
| p2pFrameHead      | P2P音视频数据帧--暂不使用                                    |



**<span id="NK_STREAM_BUF_S">NK_STREAM_BUF_S</span>**

【说明】
FIXME

【定义】

```C
define NK_STREAM_PACK_MAX_NUM (8)
typedef struct  tagSTREAMBUF
{
	NK_Int iPackNum;
	NK_PVoid pPackBuf[NK_STREAM_PACK_MAX_NUM];
	NK_Int pPackLen[NK_STREAM_PACK_MAX_NUM];
}NK_STREAM_BUF_S;
```

【成员】

| 成员名称                         | 描述  |
| -------------------------------- | ----- |
| iPackNum                         | FIXME |
| pPackBuf[NK_STREAM_PACK_MAX_NUM] | FIXME |
| pPackLen[NK_STREAM_PACK_MAX_NUM] | FIXME |



**<span id="enAPIS_ZOOM_DIRECTION">enAPIS_ZOOM_DIRECTION</span>**

【说明】
FIXME

【定义】

```C
FIXME
```

【成员】

| 成员名称 | 描述  |
| -------- | ----- |
| FIXME    | FIXME |



**<span id="enAPIS_FOCUS_DIRECTION">enAPIS_FOCUS_DIRECTION</span>**

【说明】
FIXME

【定义】

```C
FIXME
```

【成员】

| 成员名称 | 描述  |
| -------- | ----- |
| FIXME    | FIXME |



**<span id="enAPIS_AF_SPEED">enAPIS_AF_SPEED</span>**

【说明】
FIXME

【定义】

```C
FIXME
```

【成员】

| 成员名称 | 描述  |
| -------- | ----- |
| FIXME    | FIXME |



**<span id="stVIDEO_YUV">stVIDEO_YUV</span>**

【说明】
FIXME

【定义】

```C
FIXME
```

【成员】

| 成员名称 | 描述  |
| -------- | ----- |
| FIXME    | FIXME |



**<span id="stCFG_VIDEOINFO">stCFG_VIDEOINFO</span>**

【说明】
	视频数据定义。
【定义】

```C
typedef struct  tagCFG_VIDEOINFO_
{
	NK_Char			strChannelName[NAME_LEN];		
	enVIDEO_QUALITY	videoQuality;					
	stVIDEOENCODE 	stVideoEncode[VIDEO_CHN_MAX];
	stMASKALARM		stMask[VIDEO_MASK_MAX];			
	stCORDONALARM	stCordon;		
	stMOTDETALARM	stMotdet;	
	stSIGNALLOST	stSignalLost;				
	stIRCUTPARAM	stIrcut;						
	stOSDPARAM		stOsd;							
	stVISPPARAM		stVisp;							
} stCFG_VIDEOINFO ,*pstCFG_VIDEOINFO;
```

【成员】
| 成员名称                     | 描述                            |
| ---------------------------- | ------------------------------- |
| strChannelName               | 通道名称                        |
| videoQuality                 | 只推1路时，当前推送码流的清晰度 |
| stVideoEncode[VIDEO_CHN_MAX] | 视频压缩编码                    |
| stMask[VIDEO_MASK_MAX]       | 4个视频遮盖参数                 |
| stCordon                     | 1个警戒线参数                   |
| stMotdet                     | 1个移动侦测参数                 |
| stSignalLost                 | 信号丢失获取                    |
| stIrcut                      | IRCUT 参数                      |
| stOsd                        | OSD 参数设置                    |
| stVisp                       | isp 参数设置                    |



**<span id="stMASKALARMINFO">stMASKALARMINFO</span>**

【说明】
	遮挡报警信息数据结构定义。
【定义】

```C
typedef struct tagMASKALARM_PARAM_INFO
{
	NK_Int        nMask;				
	stMASKALARM   stMask;		
}stMASKALARMINFO,*pstMASKALARMINFO;
```

【成员】
| 成员名称 | 描述                   |
| -------- | ---------------------- |
| nMask    | 表示第几个视频遮盖参数 |
| stMas    | 视频遮盖参数           |



**<span id="stMASKALARM">stMASKALARM</span>**

【说明】
	遮挡报警数据结构定义。
【定义】

```C
typedef struct tagMASKALARM_PARAM_
{
	NK_Int			bEnableMask;						
	NK_Int			bEnableMaskAlarm; 				
	NK_Int			enMaskAlarmLevel;					
	stTIMESEGMENT	stArmTime[MAX_TIMESEGMENT];		
	stEXCEPTION		stHandleType;
//	NK_Int 		    stArea[18][22];				//// 遮挡报警区域
	NK_Float        stregionX, stregionY, stregionWidth,                                           stregionHeight;
	NK_UInt32       stregionColor;
}stMASKALARM,*pstMASKALARM;
```

【成员】
| 成员名称                   | 描述             |
| -------------------------- | ---------------- |
| bEnableMask                | 是否启动遮挡     |
| bEnableMaskAlarm           | 是否启动遮挡报警 |
| enMaskAlarmLevel           | 设置灵敏度       |
| stArmTime[MAX_TIMESEGMENT] | 遮挡报警布防时间 |
| stHandleType               | 遮挡报警处理     |



**<span id="stMOTDETALARM">stMOTDETALARM</span>**

【说明】
	移动侦测异常处理结构定义。
【定义】

```C
typedef struct tagMOTDETALARM_
{
	NK_Int			bEnableMotDet; 		
	NK_Int			bEnableMotDetAlarm;
	NK_Int			enMotDetAlarmLevel;
	NK_Int 			bEnableMdRecord;		
	NK_Int			bEnableMT;
    NK_Int		    bEnableHD;							
	NK_Int		    bHumanDetDraw;					
	stGUARDATTR		stGuard;						
	stTIMESEGMENT	stArmTime[MAX_TIMESEGMENT]; 
	stEXCEPTION		stHandleType;
    unsigned int    BitSchedule[7];
	unsigned int    defaultSoundSche[WEEK_DAYS];	
	stCUSTWARNTONE  stCustWarnTone;					
	NK_Int 		    enHdAlarmLevel;	
    NK_Int		    nWidth;						
	NK_Int		    nHeight;				
	NK_Int 			stArea[MOTION_AREA_WIDTH][MOTION_AREA_HEIGHT];	
}stMOTDETALARM,*c;
```

【成员】
| 成员名称                                       | 描述                      |
| ---------------------------------------------- | ------------------------- |
| bEnableMotDet                                  | 是否启动侦测              |
| bEnableMotDetAlarm                             | 是否移动侦测推送日程      |
| enMotDetAlarmLevel                             | 移动侦测报警灵敏度[0-100] |
| bEnableMdRecord                                | 移动侦测录像开关          |
| bEnableMT                                      | 是否启动移动跟踪          |
| stArmTime[MAX_TIMESEGMENT]                     | 移动侦测布防时间          |
| stHandleType                                   | 移动侦测异常处理方式      |
| bEnableHD                                      | 是否启动人形检测          |
| bHumanDetDraw                                  | 是否启动人形画框          |
| stGuard                                        | 看守位设置                |
| BitSchedule[7]                                 | 报警的日程表              |
| defaultSoundSche[WEEK_DAYS]                    | 默认报警音的日程表        |
| stCustWarnTone                                 | 自定义报警音              |
| enHdAlarmLevel                                 | 人形报警灵敏度            |
| nWidth                                         | 最大列数                  |
| nHeight                                        | 最大行数                  |
| stArea[MOTION_AREA_WIDTH] [MOTION_AREA_HEIGHT] | FIXME                     |



**<span id="fSDK_EVENT_DO_TRAP">fSDK_EVENT_DO_TRAP</span>**

【说明】
	FIXME
【定义】

```C
typedef void (*<span id="SDK_Init"> </span>fSDK_EVENT_DO_TRAP)
    (int vin, const char *ret_name, void *args);
```

【成员】

| 成员名称 | 描述  |
| -------- | ----- |
| vin      | FIXME |
| ret_name | FIXME |
| args     | FIXME |



**<span id="stSIGNALLOST">stSIGNALLOST</span>**

【说明】
	信号丢失数据结构定义。
【定义】

```C
typedef struct tagSIGNALLOST_PARAM_
{
	NK_Int	bVideoLost;				
	NK_Int	bNetworkLost;				
	NK_Int	bAudioLost;				
	NK_Int	bEnableLostAlarm;			
	stEXCEPTION	handleType;			
}stSIGNALLOST,*pstSIGNALLOST;
```

【成员】
| 成员名称         | 描述         |
| ---------------- | ------------ |
| bVideoLost       | 是否视频丢失 |
| bNetworkLost     | 是否网络丢失 |
| bAudioLost       | 是否音频丢失 |
| bEnableLostAlarm | 信号丢失报警 |
| handleType       | 信号丢失处理 |



**<span id="stIRCUTPARAM">stIRCUTPARAM</span>**

【说明】
	IRCUT数据结构定义。
【定义】

```C
typedef struct tagIRCUT_PARAM_
{
	 NK_Int			  bEnable; 		
	 NK_Int			  bReverse;			
	 enIRCUTMODE 	  enIrCutMode; 	
	 NK_Int			  nDelayTime; 
     NK_Int			  bInitFlag;     		
     enIRCUTSOFTLEVEL nDayToNightLevel;
	 enIRCUTSOFTLEVEL nNightToDayLevel;
}stIRCUTPARAM,*pstIRCUTPARAM;
```

【成员】
| 成员名称    | 描述          |
| ----------- | ------------- |
| bEnable     | 使能IRCUT     |
| bReverse    | 是否反向IRCUT |
| enIrCutMode | 使用IRCUT模式 |
| nDelayTime  | 延迟时间      |
| bInitFlag   | 初始化标识    |



**<span id="enIRCUTMODE">enIRCUTMODE</span>**

【说明】
	IRCUT模式数据枚举定义。
【定义】

```C
typedef enum tagIRCUTMODE_
{
	EN_IRCUT_MODE_AUTO=0,		
	EN_IRCUT_MODE_DAYLIGHT,		
	EN_IRCUT_MODE_NIGHT,		
	EN_IRCUT_MODE_TIME,		
	EN_IRCUT_MODE_UNKOWN,
}enIRCUTMODE;
```

【成员】
| 成员名称               | 描述              |
| ---------------------- | ----------------- |
| EN_IRCUT_MODE_AUTO=0   | IRCUT自动检测模式 |
| EN_IRCUT_MODE_DAYLIGHT | IRCUT强制白天模式 |
| EN_IRCUT_MODE_NIGHT    | IRCUT强制黑夜模式 |
| EN_IRCUT_MODE_TIME     | IRCUT强制时间模式 |

**<span id="stOSDPARAM">stOSDPARAM</span>**

【说明】
	OSD数据结构定义。
【定义】

```C
typedef struct tagOSD_PARAM_
{
	enOSDTEXTCODEC	eOsdCodec;					
	NK_Boolean	    bStripTime;						
	stOSDTIME	    stTime;							
	stOSDTEXT	    stChnName;						
	stOSDTEXT	    stText[3];						
	stOSDGSM	    stGsm;							
}stOSDPARAM,*pstOSDPARAM;
```

【成员】
| 成员名称   | 描述                                   |
| ---------- | -------------------------------------- |
| stTime     | 时间显示                               |
| stChnName  | 通道显示                               |
| stText[3]  | 用户显示备用                           |
| eOsdCodec  | osd字符串编码                          |
| bStripTime | 是否截取时间后缀的上午下午、星期字符串 |
| stGsm      | GSM信号显示                            |

**<span id="stOSDTEXT">stOSDTEXT</span>**

【说明】
	OSD文本数据结构体定义。
【定义】

```C
typedef struct tagOSD_TEXT_
{
	NK_Int		bDispNameOsd;	
	stOSDATTR  	stOsdAttr;		
	NK_Char		strText[64];		
}stOSDTEXT,*pstOSDTEXT;
```

【成员】
| 成员名称     | 描述             |
| ------------ | ---------------- |
| bDispNameOsd | 是否显示通道名称 |
| stOsdAttr    | OSD 属性         |
| strText[64]  | 显示内容         |

**<span id="stOSDTIME">stOSDTIME</span>**

【说明】
	OSD时间数据结构定义。
【定义】

```C
typedef struct tagOSD_TIME_
{
	NK_Int		enHourType;		
	NK_Int 		bDispEnglish;		
	NK_Int		bDispDate;		
	NK_Int		bDispWeek;		
	NK_Int		enDateOsdType;	
	stOSDATTR  stOsdAttr;
}stOSDTIME,*pstOSDTIME;
```

【成员】
| 成员名称      | 描述                  |
| ------------- | --------------------- |
| enHourType    | 0:24小时制,1:12小时制 |
| bDispEnglish  | 是否显示中文          |
| bDispDate     | 是否显示日期          |
| bDispWeek     | 是否显示星期          |
| enDateOsdType | 年月日格式类型        |

**<span id="tagOSD_LINE">tagOSD_LINE</span>**

【说明】
	OSD属性数据结构定义。
【定义】

```C
typedef struct tagOSD_LINE
{
	NK_Int		 enFontColor;			
	NK_Int		 enBackColor;			
	NK_Int	 	 bDispLine;				
	NK_Int		 nCharCnt;					
	NK_Int		 strCode[88];				
	stCOORDINATE stUpateLeft;			
	NK_Int		 res[10];
}OSD_LINE;
```

【成员】
| 成员名称    | 描述                                                       |
| ----------- | ---------------------------------------------------------- |
| bDispLine   | 是否显示该行                                               |
| enFontColor | 字体颜色枚举                                               |
| enBackColor | 背景颜色枚举                                               |
| nCharCnt    | 字符个数                                                   |
| strCode[88] | OSD字符，考虑百万像素的IP Camera，增加每行的最大字符数为88 |
| stUpateLeft | 左上角坐标                                                 |
| res[10]     | 扩展结构                                                   |

**<span id="tagOSD_ATTR_">tagOSD_ATTR_</span>**

【说明】
	OSD属性数据结构定义。
【定义】

```C
typedef struct tagOSD_ATTR_
{
	NK_Int      	enOsdAttrib;			
	NK_Int			enFontColor;		
	NK_Int			enBackColor;		
	stCOORDINATE	stCoordinate;			
}stOSDATTR, *pstOSDATTR;
```

【成员】
| 成员名称     | 描述               |
| ------------ | ------------------ |
| enFontColor  | 字体颜色枚举       |
| enBackColor  | 背景颜色枚举       |
| enOsdAttrib  | OSD属性:透明，闪烁 |
| stCoordinate | 字符串相对坐标     |

**<span id="tagCOORDINATE_">tagCOORDINATE_</span>**

【说明】
	OSD坐标结构定义。
【定义】

```C
typedef struct tagCOORDINATE_
{
	NK_Float	x;	
	NK_Float	y;	
}stCOORDINATE,*pstCOORDINATE;
```

【成员】
| 成员名称 | 描述          |
| -------- | ------------- |
| x        | 横坐标 百分比 |
| y        | 纵坐标 百分比 |

**<span id="tagRECT">tagRECT</span>**

【说明】
	OSD矩形区域坐标结构定义。
【定义】

```C
typedef struct tagRECT
{
	NK_UInt32	nPosx;	
	NK_UInt32	nPosy;	
	NK_UInt32	nWidth;	
	NK_UInt32	nHeight;	
} stRECT,*pstRECT;
```

【成员】
| 成员名称 | 描述   |
| -------- | ------ |
| nPosx    | 横坐标 |
| nPosy    | 纵坐标 |
| nWidth   | 宽度   |
| nHeight  | 高度   |

**<span id="stVISPPARAM ">stVISPPARAM </span>**

【说明】
	VISP结构定义。
【定义】

```C
typedef struct tagVISP_PARAM_
{
	NK_Int  enCtrlIruct;				
	NK_Int	bFlipVertical; 	   			
	NK_Int	bFlipHorizontal;	   		
	NK_Int	enFreqPower;		   		
	NK_Int	nBackLight;		  		
	NK_Int	bAwebEnable;		   		
	stIMAGECOLOR stImgColor;			
	stIMAGEPARAM stImgStyle;
    NK_Int	bIspTools;		   			
	NK_Int	bCloseQRActive;				
    NK_Char	strSensorId[32];		   
    stIMAGEPLSC stImgLsc;					
}stVISPPARAM,*pstVISPPARAM;
```

【成员】
| 成员名称        | 描述                                |
| --------------- | ----------------------------------- |
| enCtrlIruct     | 控制IRCURT 模式                     |
| bFlipVertical   | 垂直翻转(特点输入头可用)            |
| bFlipHorizontal | 水平翻转(特点输入头可用)            |
| enFreqPower     | 电源频率(50hz/60hz ,特定输入头使用) |
| nBackLight      | 背光补偿(0~255)                     |
| bAwebEnable     | 开启是否启动自动白平衡              |
| stImgColor      | 视频图像参数                        |
| stImgStyle      | 图像风格 min:1 max:3                |
| bIspTools       | ispTools工具开关                    |
| bCloseQRActive  | 是否关闭二维码增强功能              |
| strSensorId[32] | sensor ID                           |
| stImgLsc        | 镜头校准                            |

**<span id="stIMAGECOLOR ">stIMAGECOLOR </span>**

【说明】
	图像参数结构定义。
【定义】

```C
typedef struct tagIMAGE_COLOR_
{
	stIMAGEPARAM	stBrightness;		
	stIMAGEPARAM	stContrast;		
	stIMAGEPARAM	stTonality;		
	stIMAGEPARAM	stSaturation;		
	stIMAGEPARAM	stSharpness;		
}stIMAGECOLOR,*pstIMAGECOLOR;
```

【成员】
| 成员名称     | 描述           |
| ------------ | -------------- |
| stBrightness | 亮度   (0-255) |
| stContrast   | 对比度 (0-255) |
| stTonality   | 色调   (0-255) |
| stSaturation | 饱和度 (0-255) |
| stSharpness  | 锐度   (0-255) |

**<span id="stIMAGEPARAM ">stIMAGEPARAM </span>**

【说明】
	图像参数结构定义。
【定义】

```C
typedef struct tagIMAGE_PARAM_
{
	NK_Int		nValue;			
	NK_Int		nDefult;		
	NK_Int		nMin;		
	NK_Int		nMax;			
}stIMAGEPARAM,*pstIMAGEPARAM;
```

【成员】
| 成员名称 | 描述             |
| -------- | ---------------- |
| nValue   | 当前值   (0-255) |
| nDefult  | 默认值 (0-255)   |
| nMin     | 最小值   (0-255) |
| nMax     | 最大值 (0-255)   |

**<span id="stTIMESEGMENT ">stTIMESEGMENT </span>**

【说明】
	布放时间定义。
【定义】

```C
typedef struct tagTIMESEGMENT_
{
	NK_Int 			bEnable;		
	NK_UInt32		nStartTime;	
	NK_UInt32		nStopTime;	
	NK_UInt32		nWeekday;	
	NK_UInt32		nType;		
} stTIMESEGMENT,*pstTIMESEGMENT;
```

【成员】
| 成员名称   | 描述                                 |
| ---------- | ------------------------------------ |
| bEnable    | 是否开启                             |
| nStartTime | 开始时间                             |
| nStopTime  | 停止时间                             |
| nWeekday   | 星期几位取值                         |
| nType      | 为兼用不同版本需要的时间布防类型标识 |

**<span id="stEXCEPTION ">stEXCEPTION </span>**

【说明】
	异常处理数据结构。
【定义】

```C
typedef struct tagEXCEPTION_PARAM_
{
	NK_UInt32 	enHandleType;	
	NK_Int		bSendeMail;		
	NK_Int		bAlarmOut;		
	NK_Int		bAudioOut;		
	NK_Int		bSanpshot;		
	NK_Int		bRecord;			
	NK_Int		nTimeSec;		
	NK_UInt32	enSoundType;		
}stEXCEPTION,*pstEXCEPTION;
```

【成员】
| 成员名称     | 描述                            |
| ------------ | ------------------------------- |
| enHandleType | 异常处理,异常处理方式的"或"结果 |
| bSendeMail   | 是否发送Email                   |
| bAlarmOut    | 是否触发报警输出                |
| bAudioOut    | 是否音频提示                    |
| bSanpshot    | 是否抓图                        |
| bRecord      | 是否启动录像                    |
| nTimeSec     | 报警使用时长默认30S             |
| enSoundType  | 报警提示音类型                  |

**<span id="stSIGNALLOST ">stSIGNALLOST </span>**

【说明】
	视频丢失数据结构。
【定义】

```C
typedef struct tagSIGNALLOST_PARAM_
{
	NK_Int	bVideoLost;			
	NK_Int	bNetworkLost;			
	NK_Int	bAudioLost;			
	NK_Int	bEnableLostAlarm;		
	stEXCEPTION	handleType;		
}stSIGNALLOST,*pstSIGNALLOST;
```

【成员】
| 成员名称         | 描述         |
| ---------------- | ------------ |
| bVideoLost       | 是否视频丢失 |
| bNetworkLost     | 是否网络丢失 |
| bAudioLost       | 是否音频丢失 |
| bEnableLostAlarm | 信号丢失报警 |
| handleType       | 信号丢失处理 |

**<span id="enCTRLMODE ">enCTRLMODE </span>**

【说明】
	视频编码控制定义。
【定义】

```C
typedef enum tagCTRLMODE_
{
		EN_CTRLMODE_CBR		=0,
		EN_CTRLMODE_VBR
}enCTRLMODE;
```

【成员】
| 成员名称        | 描述     |
| --------------- | -------- |
| EN_CTRLMODE_CBR | 固定码流 |
| EN_CTRLMODE_VBR | 可变码流 |



**<span id="enRESTYPE">enRESTYPE</span>**

【说明】
	FIXME
【定义】

```C
FIXME
```

【成员】

| 成员名称 | 描述 |
| -------- | ---- |
| FIXME    |      |



**<span id="enENCODETYPE ">enENCODETYPE </span>**

【说明】
	视频编码类型定义。
【定义】

```C
typedef enum tagENCODETYPE_
{
		EN_ENCODE_MPEG      =1,
		EN_ENCODE_H264,
		EN_ENCODE_H265,
    	EN_ENCODE_H264_PLUS,
	    EN_ENCODE_H265_PLUS,
}enENCODETYPE;
```

【成员】
| 成员名称       | 描述     |
| -------------- | -------- |
| EN_ENCODE_MPEG | MPEG格式 |
| EN_ENCODE_H264 | H264格式 |
| EN_ENCODE_H265 | H265格式 |

**<span id="enAPISVIDEOTYPE  ">enAPISVIDEOTYPE  </span>**

【说明】
	视频控制命令定义。
【定义】

```C
typedef enum enAPISVIDEOTYPE_
{
		EN_APIS_VIDEO_ENC_BASE = 0x101,
		EN_APIS_VIDEO_ENC_FPS,
		EN_APIS_VIDEO_ENC_GOP
		EN_APIS_VIDEO_ENC_BITRATE,
		EN_APIS_VIDEO_ENC_PROFILE,
		EN_APIS_VIDEO_ENC_RESOLUTION,
		EN_APIS_VIDEO_ENC_CVBR,
		EN_APIS_VIDEO_ENC_QPLEVEL,
		EN_APIS_VIDEO_ENC_IFRAME,
		EN_APIS_VIDEO_ENC_VENC_PARAM,
		EN_APIS_VIDEO_ENC_SHELTER_PARAM,
		EN_APIS_VIDEO_ENC_MOTION_PARAM,
		EN_APIS_VIDEO_ENC_MOTION_ENABLE,
		EN_APIS_VIDEO_ENC_SHELTER_ENABLE,
		EN_APIS_VIDEO_ENC_PRIVACY_START,
		EN_APIS_VIDEO_ENC_PRIVACY_STOP,
		EN_APIS_VIDEO_ENC_PRIVACY_AREA,
		EN_APIS_VIDEO_ENC_PRIVACY_COLOR,
		EN_APIS_VIDEO_ENC_SHELTER_START,
		EN_APIS_VIDEO_ENC_SHELTER_STOP,
		EN_APIS_VIDEO_ENC_SHELTER_AREA,
		EN_APIS_VIDEO_ENC_SHELTER_COLOR,
		EN_APIS_VIDEO_ENC_SHELTER_ALARM,
		EN_APIS_VIDEO_ENC_MOTION_START,
		EN_APIS_VIDEO_ENC_MOTION_STOP,
		EN_APIS_VIDEO_ENC_MOTION_AREA,
		EN_APIS_VIDEO_ENC_MOTION_SENSITIVITY,
		EN_APIS_VIDEO_ENC_MOTION_CLEAN,
		EN_APIS_VIDEO_ENC_MOTION_ALARM,
		EN_APIS_VIDEO_ENC_VLOST_ALARM,
		EN_APIS_VIDEO_NUKNOW,
}enAPISVIDEOTYPE;
```

【成员】
| 成员名称                             | 描述                                                    |
| ------------------------------------ | ------------------------------------------------------- |
| EN_APIS_VIDEO_ENC_FPS                | 编码帧率:[NK_Int](#基础数据类型定义)                    |
| EN_APIS_VIDEO_ENC_GOP                | 编码GOP :[NK_Int](#基础数据类型定义)                    |
| EN_APIS_VIDEO_ENC_BITRATE            | 请求视频流码率: [stVIDEOENCODE](#stVIDEOENCODE)         |
| EN_APIS_VIDEO_ENC_PROFILE            | 编码复杂度:[NK_Int](#基础数据类型定义)                  |
| EN_APIS_VIDEO_ENC_RESOLUTION         | 编码分辨率: [stVIDEOENCODE](#stVIDEOENCODE)             |
| EN_APIS_VIDEO_ENC_CVBR               | 编码控制: [NK_Int](#基础数据类型定义)                   |
| EN_APIS_VIDEO_ENC_QPLEVEL            | 编码QP值: [NK_Int](#基础数据类型定义)                   |
| EN_APIS_VIDEO_ENC_IFRAME             | 强制请求关键帧: [NK_Int](#基础数据类型定义)             |
| EN_APIS_VIDEO_ENC_VENC_PARAM         | 编码参数: [stVIDEOENCODE](#stVIDEOENCODE)               |
| EN_APIS_VIDEO_ENC_SHELTER_PARAM      | 视频遮挡参数:[stMASKALARMINFO](#stMASKALARMINFO)        |
| EN_APIS_VIDEO_ENC_MOTION_PARAM       | 移动侦测参数，--暂未使用                                |
| EN_APIS_VIDEO_ENC_MOTION_ENABLE      | 视频遮挡区域使能，--暂未使用                            |
| EN_APIS_VIDEO_ENC_SHELTER_ENABLE     | 视频遮挡颜色--暂未使用                                  |
| EN_APIS_VIDEO_ENC_PRIVACY_START      | 启动视频隐私区域  : [stMASKALARMINFO](#stMASKALARMINFO) |
| EN_APIS_VIDEO_ENC_PRIVACY_STOP       | 关闭视频隐私区域                                        |
| EN_APIS_VIDEO_ENC_PRIVACY_AREA       | 视频隐私区域: [stMASKALARMINFO](#stMASKALARMINFO)       |
| EN_APIS_VIDEO_ENC_PRIVACY_COLOR      | 视频隐私区域颜色:[NK_Int](#基础数据类型定义)            |
| EN_APIS_VIDEO_ENC_SHELTER_START      | 启动视频遮挡--暂不使用                                  |
| EN_APIS_VIDEO_ENC_SHELTER_STOP       | 关闭视频遮挡--暂不使用                                  |
| EN_APIS_VIDEO_ENC_SHELTER_AREA       | 视频遮挡区域--暂不使用                                  |
| EN_APIS_VIDEO_ENC_SHELTER_COLOR      | 视频遮挡颜色--暂不使用                                  |
| EN_APIS_VIDEO_ENC_SHELTER_ALARM      | 视频遮挡报警状态:[NK_Int](#基础数据类型定义)            |
| EN_APIS_VIDEO_ENC_MOTION_START       | 开启移动侦测:[NK_Int](#基础数据类型定义)                |
| EN_APIS_VIDEO_ENC_MOTION_STOP        | 关闭移动侦测                                            |
| EN_APIS_VIDEO_ENC_MOTION_AREA        | 移动侦测区域: [stMOTDETALARM](#stMOTDETALARM)           |
| EN_APIS_VIDEO_ENC_MOTION_SENSITIVITY | 移动侦测灵敏度:[NK_Int](#基础数据类型定义)              |
| EN_APIS_VIDEO_ENC_MOTION_CLEAN       | 移动侦测区域清除--暂不使用                              |
| EN_APIS_VIDEO_ENC_MOTION_ALARM       | 移动侦测报警状态:[NK_Int](#基础数据类型定义)            |
| EN_APIS_VIDEO_ENC_VLOST_ALARM        | 视频丢失报警--暂不使用                                  |
| EN_APIS_VIDEO_NUKNOW                 | 溢出类型                                                |

**<span id="enAPISVOSDTYPE  ">enAPISVOSDTYPE  </span>**

【说明】
	视频OSD设置命令定义。
【定义】

```C
typedef enum tagAPISVOSDTYPE_
{
		EN_APIS_VOSD_COLOR_FONT = 0x201,	
		EN_APIS_VOSD_COLOR_BACK, 
		EN_APIS_VOSD_FONT_SIZE,
		EN_APIS_VOSD_ATTR_DATE,
		EN_APIS_VOSD_ATTR_PARAM,
		EN_APIS_VOSD_ATTR_FLICKER,
		EN_APIS_VOSD_ATTR_XYPOS,
		EN_APIS_VOSD_ATTR_RECT,
		EN_APIS_VOSD_ATTR_TEXT,
		EN_APIS_VOSD_ATTR_CLEAR,
}enAPISVOSDTYPE;
```

【成员】
| 成员名称                  | 描述                                         |
| ------------------------- | -------------------------------------------- |
| EN_APIS_VOSD_COLOR_FONT   | 设置字体色--暂不使用                         |
| EN_APIS_VOSD_COLOR_BACK   | 设置背景色--暂不使用                         |
| EN_APIS_VOSD_FONT_SIZE    | 设置/获取Font尺寸--暂不使用                  |
| EN_APIS_VOSD_ATTR_DATE    | 显示OSD时间内容 : [stOSDTIME](#stOSDTIME)    |
| EN_APIS_VOSD_ATTR_PARAM   | 设置OSD参数属性--暂不使用                    |
| EN_APIS_VOSD_ATTR_FLICKER | 设置闪烁属性--暂不使用                       |
| EN_APIS_VOSD_ATTR_XYPOS   | 显示OSD的X,Y : [stCOORDINATE](#stCOORDINATE) |
| EN_APIS_VOSD_ATTR_RECT    | 显示OSD区域: [stRECT](#stRECT)               |
| EN_APIS_VOSD_ATTR_TEXT    | 显示OSD内容: [NK_PChar](#NK_PChar)           |
| EN_APIS_VOSD_ATTR_CLEAR   | 清空OSD内容                                  |

**<span id="enAPISVISPTYPE    ">enAPISVISPTYPE    </span>**

【说明】
	视频图像参数设置命令定义。
【定义】

```C
typedef enum tagAPISVISPTYPE_
{
		EN_APIS_VISP_IMAGE_HUE = 0x301, 
		EN_APIS_VISP_IMAGE_BRIGHTNESS, 
		EN_APIS_VISP_IMAGE_SATURATION, 
		EN_APIS_VISP_IMAGE_CONTRAST, 
		EN_APIS_VISP_IMAGE_SHARPNESS, 
		EN_APIS_VISP_IMAGE_COLOR, 
		EN_APIS_VISP_IMAGE_STYLECFG,
		EN_APIS_VISP_IMAGE_RESOLUTION,
		EN_APIS_VISP_IMAGE_TURNCOLOR,
		EN_APIS_VISP_IMAGE_FLIP,
		EN_APIS_VISP_IMAGE_PRIVACY,
		EN_APIS_VISP_IMAGE_MOTION,
		EN_APIS_VISP_IMAGE_VLOSTCFG,
		EN_APIS_VISP_IMAGE_MOTION_SENSITIVITY,
		EN_APIS_VISP_IMAGE_3D,
		EN_APIS_VISP_IMAGE_AWB,
		EN_APIS_VISP_IMAGE_AE,
}enAPISVISPTYPE;
```

【成员】
| 成员名称                              | 描述                                               |
| ------------------------------------- | -------------------------------------------------- |
| EN_APIS_VISP_IMAGE_HUE                | 图像色调:[NK_Int](#基础数据类型定义)               |
| EN_APIS_VISP_IMAGE_BRIGHTNESS         | 图像亮度 :[NK_Int](#基础数据类型定义)              |
| EN_APIS_VISP_IMAGE_SATURATION         | 图像饱和 :[NK_Int](#基础数据类型定义)              |
| EN_APIS_VISP_IMAGE_CONTRAST           | 图像对比度 :[NK_Int](#基础数据类型定义)            |
| EN_APIS_VISP_IMAGE_SHARPNESS          | 图像锐度 :[NK_Int](#基础数据类型定义)              |
| EN_APIS_VISP_IMAGE_COLOR              | 图像色彩参数:[stIMAGECOLOR](#stIMAGECOLOR)         |
| EN_APIS_VISP_IMAGE_STYLECFG           | 图像样式:[stIMAGEPARAM](#stIMAGEPARAM)--暂未使用   |
| EN_APIS_VISP_IMAGE_RESOLUTION         | 图像分辨率--暂未使用                               |
| EN_APIS_VISP_IMAGE_TURNCOLOR          | 转换颜色--暂未使用                                 |
| EN_APIS_VISP_IMAGE_FLIP               | 图像翻转: [stVISPPARAM](#stVISPPARAM)              |
| EN_APIS_VISP_IMAGE_PRIVACY            | 视频隐私区域: [stMASKALARMINFO](#stMASKALARMINFO)  |
| EN_APIS_VISP_IMAGE_MOTION             | 移动侦测: [stMOTDETALARM](#stMOTDETALARM)          |
| EN_APIS_VISP_IMAGE_VLOSTCFG           | 视频丢失: [stSIGNALLOST](#stSIGNALLOST) --暂未使用 |
| EN_APIS_VISP_IMAGE_MOTION_SENSITIVITY | 移动侦测灵敏度: [NK_Int](#基础数据类型定义)        |
| EN_APIS_VISP_IMAGE_3D                 | 3D降噪--暂不使用                                   |
| EN_APIS_VISP_IMAGE_AWB                | 宽动态--暂不使用                                   |
| EN_APIS_VISP_IMAGE_AE                 | --暂不使用                                         |



**<span id="enAPISMTTYPE">enAPISMTTYPE  </span>**

【说明】
	FIXME
【定义】

```C
FIXME
```

【成员】

| 成员名称 | 描述  |
| -------- | ----- |
| FIXME    | FIXME |



**<span id="stAENCODE   ">stAENCODE   </span>**

【说明】
	音频输入输出命令定义。
【定义】

```C
typedef struct  tagAUDIO_ENCODE_
{
		NK_Int  bEnable;
		NK_Int  bAmic;
		NK_Int  enEncodeType;
		NK_Int  enSampleSize;
		NK_Int  enSampleSpeed;
		NK_Int  enStereo;
		NK_Int 	nVolume;
    	NK_Int 	nGain;			   		
        NK_Int  nAlarmVolume;
	    NK_Int  nAlarmGain;
	    NK_Int 	bTwowayTalk;
	    NK_Int 	bNoiseReduction;
} stAENCODE ,*pstAENCODE;
```

【成员】
| 成员名称        | 描述                                            |
| --------------- | ----------------------------------------------- |
| bEnable         | 音频使能，取值0或1                              |
| bAmic           | auto:0 line:1 mic:2                             |
| enEncodeType    | 音频压缩类型，参考枚举[enAENCTYPE](#enAENCTYPE) |
| enSampleSize    | 采样宽度：8 位、16 位 或 32 位                  |
| enSampleSpeed   | 采样频率：8k                                    |
| enStereo        | 1表示立体声 0 表示单声道                        |
| nVolume         | 音量大小                                        |
| nGain           | 音量增益                                        |
| nAlarmVolume    | FIXME                                           |
| nAlarmGain      | FIXME                                           |
| bTwowayTalk     | FIXME                                           |
| bNoiseReduction | FIXME                                           |



**<span id="enAPISAUDIOTYPE">enAPISAUDIOTYPE   </span>**

【说明】
	音频输入输出命令定义。
【定义】

```C
typedef enum enAPISAUDIOTYPE_
{
		EN_APIS_AUDIO_AI_START, 
		EN_APIS_AUDIO_AI_STOP,
		EN_APIS_AUDIO_AI_VOLUME,
		EN_APIS_AUDIO_AI_PARAM,
		EN_APIS_AUDIO_AO_START,
		EN_APIS_AUDIO_AO_STOP, 
		EN_APIS_AUDIO_AO_VOLUME,
		EN_APIS_AUDIO_AO_PARAM, 
		EN_APIS_AUDIO_AO_OPENADEC,
		EN_APIS_AUDIO_AO_CLOSEADEC,
		EN_APIS_AUDIO_AO_RESTADEC,
		EN_APIS_AUDIO_NUKNOW, 
}enAPISAUDIOTYPE;
```

【成员】
| 成员名称                   | 描述                                      |
| -------------------------- | ----------------------------------------- |
| EN_APIS_AUDIO_AI_START     | 开启音频输入: [stAENCODE](#stAENCODE)     |
| EN_APIS_AUDIO_AI_STOP      | 停止音频输入，无参数                      |
| EN_APIS_AUDIO_AI_VOLUME    | 音频输入音量: [NK_Int](#基础数据类型定义) |
| EN_APIS_AUDIO_AI_PARAM     | 音频输入参数--暂未使用                    |
| EN_APIS_AUDIO_AO_START     | 开启音频输出: [stAENCODE](#stAENCODE)     |
| EN_APIS_AUDIO_AO_STOP      | 停止音频输出， 无参数                     |
| EN_APIS_AUDIO_AO_VOLUME    | 音频输出音量: [NK_Int](#基础数据类型定义) |
| EN_APIS_AUDIO_AO_PARAM     | 音频输出参数: [stAENCODE](#stAENCODE)     |
| EN_APIS_AUDIO_AO_OPENADEC  | 打开音频解码: [stAENCODE](#stAENCODE)     |
| EN_APIS_AUDIO_AO_CLOSEADEC | 关闭音频解码，无参数                      |
| EN_APIS_AUDIO_AO_RESTADEC  | 重启音频解码--暂未使用                    |
| EN_APIS_AUDIO_NUKNOW       | 溢出类型                                  |

**<span id="enAENCTYPE  ">enAENCTYPE  </span>**

【说明】
	音频类型定义。
【定义】

```C
typedef enum tagAUDIO_ENC_TYPE_
{
		EN_AUDIO_ENC_TYPE_MP3,
		EN_AUDIO_ENC_TYPE_AAC,
		EN_AUDIO_ENC_TYPE_PCM,
		EN_AUDIO_ENC_TYPE_G711_ALAW,
		EN_AUDIO_ENC_TYPE_G711_ULAW,
}enAENCTYPE;
```

【成员】
| 成员名称                    | 描述      |
| --------------------------- | --------- |
| EN_AUDIO_ENC_TYPE_MP3       | MP3格式   |
| EN_AUDIO_ENC_TYPE_AAC       | AAC格式   |
| EN_AUDIO_ENC_TYPE_PCM       | PCM格式   |
| EN_AUDIO_ENC_TYPE_G711_ALAW | G711A格式 |
| EN_AUDIO_ENC_TYPE_G711_ULAW | G711U格式 |

**<span id="enGPIOTYPE">enGPIOTYPE  </span>**

【说明】
	GPIO控制命令定义。
【定义】

```C
typedef enum entagGPIOTYPE_
{
		EN_APIS_GPIO_LDR = (0x1001),
		EN_APIS_GPIO_IRCUT, 
		EN_APIS_GPIO_LIGHTS, 
		EN_APIS_GPIO_KEYLED,
		EN_APIS_GPIO_REST,
		EN_APIS_GPIO_WIFI,
		EN_APIS_GPIO_BOARD_VER, 
		EN_APIS_GPIO_IR, 
		EN_APIS_GPIO_UNKOWN,
}enGPIOTYPE;
```

【成员】
| 成员名称               | 描述                                            |
| ---------------------- | ----------------------------------------------- |
| EN_APIS_GPIO_LDR       | 光敏电阻GPIO: [NK_Int](#基础数据类型定义)       |
| EN_APIS_GPIO_IRCUT     | IRCUT的GPIO控制: [NK_Int](#基础数据类型定义)    |
| EN_APIS_GPIO_LIGHTS    | GPIO控制灯源关/开: [NK_Int](#基础数据类型定义)  |
| EN_APIS_GPIO_KEYLED    | GPIO控制网络灯亮灭: [NK_Int](#基础数据类型定义) |
| EN_APIS_GPIO_REST      | 复位键: [NK_Int](#基础数据类型定义)             |
| EN_APIS_GPIO_WIFI      | wifi电源控制口: [NK_Int](#基础数据类型定义)     |
| EN_APIS_GPIO_BOARD_VER | 硬件主板版本号: [NK_Int](#基础数据类型定义)     |
| EN_APIS_GPIO_IR        | GPIO控制红外关/开: [NK_Int](#基础数据类型定义)  |
| EN_APIS_GPIO_UNKOWN    | 溢出类型                                        |

**<span id="enAPISWTGTYPE ">enAPISWTGTYPE </span>**

【说明】
	看门狗控制命令定义。
【定义】

```C
typedef enum enAPISWTGTYPE_
{
		EN_APIS_WTG_REBOOT = 0x101,
		EN_APIS_WTG_NUKNOW,
}enAPISWTGTYPE;
```

【成员】
| 成员名称           | 描述     |
| ------------------ | -------- |
| EN_APIS_WTG_REBOOT | 重启控制 |
| EN_APIS_WTG_NUKNOW | 溢出类型 |



**<span id="stPTZConfig ">stPTZConfig </span>**

【说明】
	云台控制控制定义。
【定义】

```C
typedef struct tagPTZConfig_
	{
		NK_Int vCurAngleMax;	  
        NK_Int hCurAngleMax; 
        NK_Int nSpeed;
        NK_Int vSteps;	
        NK_Int hSteps;	 
        NK_Int beat;	
        NK_Int HHzMax;	
        NK_Int HHz;	
        NK_Int VHzMax;	
        NK_Int VHz;		
    	NK_Int (*PTZ_CONFIG_GetAngle)(NK_Int *hCurAngle, NK_Int *vCurAngle);
	 	NK_Int (*PTZ_CONFIG_SetAngle)(NK_Int hCurAngle, NK_Int vCurAngle);
    	NK_Int (*PTZ_CONFIG_SaveAngle)(NK_Int hCurAngle, NK_Int vCurAngle);
	 	NK_Int (*PTZ_CONFIG_Memory)(NK_Int hCurAngle, NK_Int vCurAngle);
	 	NK_Int (*PTZ_DigitalZoom_GetMf)(NK_Float *Mf);
	}stPTZConfig, *pstPTZConfig;
```

【成员】
| 成员名称                                        | 描述                   |
| ----------------------------------------------- | ---------------------- |
| vCurAngleMax                                    | 垂直方向的最大角度     |
| hCurAngleMax                                    | 水平方向的最大角度     |
| nSpeed                                          | 速度等级               |
| vSteps                                          | 垂直方向的步数         |
| hSteps                                          | 水平方向的步数         |
| beat                                            | 拍数                   |
| HHzMax                                          | 水平最大牵出频率       |
| HHz                                             | 水平默认牵出频率       |
| VHzMax                                          | 垂直最大牵出频率       |
| VHz                                             | 垂直默认牵出频率       |
| [PTZ_CONFIG_GetAngle](#PTZ_CONFIG_GetAngle)     | 获取云台水平竖直角度值 |
| [PTZ_CONFIG_SetAngle](#PTZ_CONFIG_SetAngle)     | 设置云台水平竖直角度值 |
| [PTZ_CONFIG_SaveAngle](#PTZ_CONFIG_SaveAngle)   | FIXME                  |
| [PTZ_CONFIG_Memory](#PTZ_CONFIG_Memory)         | FIXME                  |
| [PTZ_DigitalZoom_GetMf](#PTZ_DigitalZoom_GetMf) | 电子放大倍数           |



**<span id="tagSIZE_ ">tagSIZE_ </span>**

【说明】
	尺寸定义。
【定义】

```C
typedef struct tagSIZE_
{
	NK_UInt32		width;							
	NK_UInt32		height;						
}stSIZE,*pstSIZE;
```

【成员】
| 成员名称 | 描述 |
| -------- | ---- |
| width    | 宽度 |
| height   | 高度 |

**<span id="tagCFG_DEVINFO_ ">tagCFG_DEVINFO_ </span>**

【说明】
	设备信息结构体定义。
【定义】

```C
typedef struct  tagCFG_DEVINFO_
{
	NK_Char 	strDevModel[32]; 			
    NK_Char     strDevMagic[64];        
	NK_Char 	strDevName[32]; 		
	NK_Char 	strDevBuildDate[32];	
	NK_Char		strDevHardVer[32];		 
	NK_Char		strDevSoftVer[32];		 
	NK_Char     strDevSerialId[32];     
	NK_Char 	strDevCloudId[32]; 		
	NK_Char		strDevOemName[32];		   
    NK_Char     strDevOemId[32];         
    NK_Char     strDevOemSN[64];         
    NK_Char		res[64];						
} stCFG_DEVINFO ,*pstCFG_DEVINFO;
```

【成员】
| 成员名称            | 描述             |
| ------------------- | ---------------- |
| strDevModel[32]     | 设备型号定义     |
| strDevMagic[64]     | 设备平台唯一号   |
| strDevName[32]      | 设备名称         |
| strDevBuildDate[32] | 设备发布版本日期 |
| strDevHardVer[32]   | 硬件版本号       |
| strDevSoftVer[32]   | 软件版本号       |
| strDevSerialId[32]  | 出厂序列号       |
| strDevCloudId[32]   | 设备的云 ID 号   |
| strDevOemName[32]   | 设备OEM厂家名字  |
| strDevOemId[32]     | 设备OEM的ID      |
| strDevOemSN[64]     | 设备平台唯一号   |
| res[64]             | 扩展结构         |

**<span id="tagUSER_PARAM_ ">tagUSER_PARAM_ </span>**

【说明】
	用户信息结构体定义。
【定义】

```C
typedef struct	tagUSER_PARAM_
{
	NK_Int		bEnable;			
	NK_Int		bCurUsed;		
	NK_Char		strUserName[64];	
	NK_Char		strUserpaswd[64];	
	NK_Int		enPriority;		
	NK_Int	    LivePermission;	
	NK_Int	    SetPermission;		
	NK_Int	    PlayPermission;	
	NK_Int	    PtzCtrlPermission;
	NK_Int	    BackupPermission;	
    NK_Char		res[64];		
} stUSERPARAM ,*pstUSERPARAM;
```

【成员】
| 成员名称          | 描述                        |
| ----------------- | --------------------------- |
| bEnable           | 用户操作使能                |
| bCurUsed          | 是否当前用户                |
| strUserName[64]   | 用户名                      |
| strUserpaswd[64]  | 用户密码                    |
| enPriority        | 优先级，0--低，1--中，2--高 |
| LivePermission    | 设置预览权限 (BIT)          |
| SetPermission     | 设置录像权限                |
| PlayPermission    | 回放权限                    |
| PtzCtrlPermission | PTZ控制权限                 |
| BackupPermission  | 本地备份权限                |
| res[64]           | 扩展结构                    |

**<span id="tagCFG_USERENCRYPT_ ">tagCFG_USERENCRYPT_ </span>**

【说明】
	用户ID定义。
【定义】

```C
typedef struct  tagCFG_USERENCRYPT_
{
	NK_Char		strDevID[32]; 		
} stCFG_USERENCRYPT ,*pstCFG_USERENCRYPT;
```

【成员】
| 成员名称     | 描述                         |
| ------------ | ---------------------------- |
| strDevID[32] | 用户ID,使用后8位作为加密密码 |

**<span id="tagCFG_USERINFO_ ">tagCFG_USERINFO_ </span>**

【说明】
	在线用户列表结构体定义。
【定义】

```C
typedef struct  tagCFG_USERINFO_
{
	NK_Int 		      nUserCount;				
	stUSERPARAM	      stUser[USER_LIST_MAX]; 
	stCFG_USERENCRYPT stEncrypt;		
} stCFG_USERINFO ,*pstCFG_USERINFO;
```

【成员】
| 成员名称              | 描述         |
| --------------------- | ------------ |
| nUserCount            | 在线用户数量 |
| stUser[USER_LIST_MAX] | 在线用户列表 |
| stEncrypt             | 加密设置     |

**<span id="tagCFG_AUDIOINFO_ ">tagCFG_AUDIOINFO_ </span>**

【说明】
	音频结构体定义。
【定义】

```C
typedef struct  tagCFG_AUDIOINFO_
{
	stAENCODE stAudioAi[2];			
	stAENCODE stAudioAo;			
	NK_Int  bVoiceAlarmEnable;
	NK_Int  nVoiceAlarmLevel;
} stCFG_AUDIOINFO ,*pstCFG_AUDIOINFO;
```

【成员】
| 成员名称     | 描述         |
| ------------ | ------------ |
| stAudioAi[2] | 表示音频输入 |
| stAudioAo    | 表示音频输出 |

**<span id="基础数据类型定义">基础数据类型定义</span>**

```c
typedef  char           NK_Int8;
typedef  unsigned char  NK_UInt8;
typedef  char           NK_Char;
typedef  NK_Char*       NK_PChar;
typedef  NK_UInt8       NK_Byte;
typedef  NK_Byte*       NK_PByte;
typedef  int            NK_Int;
typedef  NK_Int         NK_Integer;
typedef  void           NK_Void;
typedef  void*          NK_PVoid;
typedef  NK_Int         NK_Boolean;
typedef  NK_Int         NK_Bool;
typedef	 int16_t		NK_Int16;
typedef	 int32_t		NK_Int32;
typedef  int64_t		NK_Int64;
typedef	 uint16_t		NK_UInt16;
typedef	 uint32_t		NK_UInt32;
typedef	 uint64_t		NK_UInt64;
typedef  uintptr_t  	NK_PtrInt;
typedef  NK_Int32       NK_SSize;
typedef	 NK_UInt32      NK_Size;
typedef	 NK_Int64       NK_SSize64;
typedef  NK_UInt64      NK_Size64;

#define		NK_INT8		NK_Int8
#define		NK_UINT8	NK_UInt8
#define		NK_INT16	NK_Int16
#define		NK_UINT16	NK_UInt16
#define		NK_INT32	NK_Int32
#define		NK_UINT32	NK_UInt32
#define		NK_INT64	NK_Int64
#define		NK_UINT64	NK_UInt64
#define		NK_CHAR		NK_Char
#define		NK_PCHAR	NK_PChar
#define		NK_BYTE		NK_Byte
#define		NK_PBYTE	NK_PByte
#define		NK_INTEGER	NK_Integer
#define		NK_INT		NK_Int
#define     NK_PTRINT   NK_PtrInt
#define		NK_SSIZE	NK_SSize
#define		NK_SIZE		NK_Size
#define		NK_SSIZE64	NK_SSize64
#define		NK_SIZE64	NK_Size64
#define		NK_VOID		NK_Void
#define		NK_PVOID	NK_PVoid
#define		NK_BOOLEAN	NK_Boolean

#define		NK_False	(0)
#define 	NK_True		(!NK_False)
#define		NK_FALSE	(NK_False)
#define		NK_TRUE		(NK_True)
#if defined(NULL)
#  define   NK_Nil      (NULL)
#else
#  define   NK_Nil      (NK_PVoid)(0)
#endif
#define		NK_NIL		(NK_Nil)
#define		NK_NULL		(NK_Nil)
typedef		float		NK_Float;
#define		NK_FLOAT	NK_Float
typedef		double		NK_DFloat;
typedef		double		NK_Double;
#define		NK_DFLOAT	NK_DFloat
```



## 六．**对接方法**

1. SOC厂家提供工具链，我司使用新工具链重新编译基础库。

2. 我方提供编译好的app文件，app链接空实现的so文件，SOC厂家对接好之后替换so文件进行调试。

3. 调试完毕之后，SOC厂家提交代码及kernel、uboot、rootfs压缩包，我司进行固件打包。

## 七．**调试方法**

1. telnet到设备，kill掉应用，替换so文件（mount --bind xx.so xx.so）,重跑应用

2. 使用搜索工具可以进行预览（音视频）、设置基本参数。